var app=function(){"use strict";function l(){}const n=l=>l;function e(l){return l()}function t(){return Object.create(null)}function u(l){l.forEach(e)}function o(l){return"function"==typeof l}function s(l,n){return l!=l?n==n:l!==n||l&&"object"==typeof l||"function"==typeof l}let r;function i(n,...e){if(null==n)return l;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function a(l){let n;return i(l,l=>n=l)(),n}function c(l,n,e){l.$$.on_destroy.push(i(n,e))}function d(l){const n="string"==typeof l&&l.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return n?[parseFloat(n[1]),n[2]||"px"]:[l,"px"]}const f="undefined"!=typeof window;let h=f?()=>window.performance.now():()=>Date.now(),p=f?l=>requestAnimationFrame(l):l;const m=new Set;function g(l){m.forEach(n=>{n.c(l)||(m.delete(n),n.f())}),0!==m.size&&p(g)}function w(l,n){l.appendChild(n)}function b(l){if(!l)return document;const n=l.getRootNode?l.getRootNode():l.ownerDocument;return n&&n.host?n:l.ownerDocument}function v(l){const n=k("style");return function(l,n){w(l.head||l,n),n.sheet}(b(l),n),n.sheet}function y(l,n,e){l.insertBefore(n,e||null)}function x(l){l.parentNode&&l.parentNode.removeChild(l)}function $(l,n){for(let e=0;e<l.length;e+=1)l[e]&&l[e].d(n)}function k(l){return document.createElement(l)}function C(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function M(l){return document.createTextNode(l)}function S(){return M(" ")}function z(){return M("")}function j(l,n,e,t){return l.addEventListener(n,e,t),()=>l.removeEventListener(n,e,t)}function N(l){return function(n){return n.preventDefault(),l.call(this,n)}}function H(l,n,e){null==e?l.removeAttribute(n):l.getAttribute(n)!==e&&l.setAttribute(n,e)}function _(l,n){n=""+n,l.data!==n&&(l.data=n)}function B(l,n){l.value=null==n?"":n}function T(l,n,e,t){null==e?l.style.removeProperty(n):l.style.setProperty(n,e,t?"important":"")}function R(l,n,e){for(let e=0;e<l.options.length;e+=1){const t=l.options[e];if(t.__value===n)return void(t.selected=!0)}e&&void 0===n||(l.selectedIndex=-1)}function E(l,n,e){l.classList[e?"add":"remove"](n)}function A(l,n){return new l(n)}const O=new Map;let I,V=0;function P(l,n,e,t,u,o,s,r=0){const i=16.666/t;let a="{\n";for(let l=0;l<=1;l+=i){const t=n+(e-n)*o(l);a+=100*l+`%{${s(t,1-t)}}\n`}const c=a+`100% {${s(e,1-e)}}\n}`,d=`__svelte_${function(l){let n=5381,e=l.length;for(;e--;)n=(n<<5)-n^l.charCodeAt(e);return n>>>0}(c)}_${r}`,f=b(l),{stylesheet:h,rules:p}=O.get(f)||function(l,n){const e={stylesheet:v(n),rules:{}};return O.set(l,e),e}(f,l);p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${c}`,h.cssRules.length));const m=l.style.animation||"";return l.style.animation=`${m?`${m}, `:""}${d} ${t}ms linear ${u}ms 1 both`,V+=1,d}function L(l,n){const e=(l.style.animation||"").split(", "),t=e.filter(n?l=>l.indexOf(n)<0:l=>-1===l.indexOf("__svelte")),u=e.length-t.length;u&&(l.style.animation=t.join(", "),V-=u,V||p(()=>{V||(O.forEach(l=>{const{ownerNode:n}=l.stylesheet;n&&x(n)}),O.clear())}))}function F(l){I=l}function q(l){(function(){if(!I)throw new Error("Function called outside component initialization");return I})().$$.on_mount.push(l)}const D=[],G=[];let U=[];const J=[],W=Promise.resolve();let Y=!1;function Q(l){U.push(l)}function X(l){J.push(l)}const Z=new Set;let K,ll=0;function nl(){if(0!==ll)return;const l=I;do{try{for(;ll<D.length;){const l=D[ll];ll++,F(l),el(l.$$)}}catch(l){throw D.length=0,ll=0,l}for(F(null),D.length=0,ll=0;G.length;)G.pop()();for(let l=0;l<U.length;l+=1){const n=U[l];Z.has(n)||(Z.add(n),n())}U.length=0}while(D.length);for(;J.length;)J.pop()();Y=!1,Z.clear(),F(l)}function el(l){if(null!==l.fragment){l.update(),u(l.before_update);const n=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,n),l.after_update.forEach(Q)}}function tl(l,n,e){l.dispatchEvent(function(l,n,{bubbles:e=!1,cancelable:t=!1}={}){const u=document.createEvent("CustomEvent");return u.initCustomEvent(l,e,t,n),u}(`${n?"intro":"outro"}${e}`))}const ul=new Set;let ol;function sl(){ol={r:0,c:[],p:ol}}function rl(){ol.r||u(ol.c),ol=ol.p}function il(l,n){l&&l.i&&(ul.delete(l),l.i(n))}function al(l,n,e,t){if(l&&l.o){if(ul.has(l))return;ul.add(l),ol.c.push(()=>{ul.delete(l),t&&(e&&l.d(1),t())}),l.o(n)}else t&&t()}const cl={duration:0};function dl(e,t,s,r){const i={direction:"both"};let a=t(e,s,i),c=r?0:1,d=null,f=null,w=null;function b(){w&&L(e,w)}function v(l,n){const e=l.b-c;return n*=Math.abs(e),{a:c,b:l.b,d:e,duration:n,start:l.start,end:l.start+n,group:l.group}}function y(t){const{delay:o=0,duration:s=300,easing:r=n,tick:i=l,css:y}=a||cl,x={start:h()+o,b:t};t||(x.group=ol,ol.r+=1),d||f?f=x:(y&&(b(),w=P(e,c,t,s,o,r,y)),t&&i(0,1),d=v(x,s),Q(()=>tl(e,t,"start")),function(l){let n;0===m.size&&p(g),new Promise(e=>{m.add(n={c:l,f:e})})}(l=>{if(f&&l>f.start&&(d=v(f,s),f=null,tl(e,d.b,"start"),y&&(b(),w=P(e,c,d.b,d.duration,0,r,a.css))),d)if(l>=d.end)i(c=d.b,1-c),tl(e,d.b,"end"),f||(d.b?b():--d.group.r||u(d.group.c)),d=null;else if(l>=d.start){const n=l-d.start;c=d.a+d.d*r(n/d.duration),i(c,1-c)}return!(!d&&!f)}))}return{run(l){o(a)?(K||(K=Promise.resolve(),K.then(()=>{K=null})),K).then(()=>{a=a(i),y(l)}):y(l)},end(){b(),d=f=null}}}function fl(l,n,e){const t=l.$$.props[n];void 0!==t&&(l.$$.bound[t]=e,e(l.$$.ctx[t]))}function hl(l){l&&l.c()}function pl(l,n,t,s){const{fragment:r,after_update:i}=l.$$;r&&r.m(n,t),s||Q(()=>{const n=l.$$.on_mount.map(e).filter(o);l.$$.on_destroy?l.$$.on_destroy.push(...n):u(n),l.$$.on_mount=[]}),i.forEach(Q)}function ml(l,n){const e=l.$$;null!==e.fragment&&(!function(l){const n=[],e=[];U.forEach(t=>-1===l.indexOf(t)?n.push(t):e.push(t)),e.forEach(l=>l()),U=n}(e.after_update),u(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function gl(l,n){-1===l.$$.dirty[0]&&(D.push(l),Y||(Y=!0,W.then(nl)),l.$$.dirty.fill(0)),l.$$.dirty[n/31|0]|=1<<n%31}function wl(n,e,o,s,r,i,a,c=[-1]){const d=I;F(n);const f=n.$$={fragment:null,ctx:[],props:i,update:l,not_equal:r,bound:t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:t(),dirty:c,skip_bound:!1,root:e.target||d.$$.root};a&&a(f.root);let h=!1;if(f.ctx=o?o(n,e.props||{},(l,e,...t)=>{const u=t.length?t[0]:e;return f.ctx&&r(f.ctx[l],f.ctx[l]=u)&&(!f.skip_bound&&f.bound[l]&&f.bound[l](u),h&&gl(n,l)),e}):[],f.update(),h=!0,u(f.before_update),f.fragment=!!s&&s(f.ctx),e.target){if(e.hydrate){const l=function(l){return Array.from(l.childNodes)}(e.target);f.fragment&&f.fragment.l(l),l.forEach(x)}else f.fragment&&f.fragment.c();e.intro&&il(n.$$.fragment),pl(n,e.target,e.anchor,e.customElement),nl()}F(d)}class bl{$destroy(){ml(this,1),this.$destroy=l}$on(n,e){if(!o(e))return l;const t=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return t.push(e),()=>{const l=t.indexOf(e);-1!==l&&t.splice(l,1)}}$set(l){var n;this.$$set&&(n=l,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(l),this.$$.skip_bound=!1)}}const vl="custom",yl={veryeasy:"Very Easy",easy:"Easy",medium:"Medium",hard:"Hard"},xl={darkTheme:!1,displayTimer:!0,hintsLimited:!1,hints:1/0,highlightCells:!0,highlightSame:!0,highlightConflicting:!0},$l=81,kl=[[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7],[0,8],[1,0],[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[4,0],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[5,0],[5,1],[5,2],[5,3],[5,4],[5,5],[5,6],[5,7],[5,8],[6,0],[6,1],[6,2],[6,3],[6,4],[6,5],[6,6],[6,7],[6,8],[7,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,6],[7,7],[7,8],[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[8,6],[8,7],[8,8]],Cl=[[1,1],[1,2],[1,3],[2,1],[2,2],[2,3],[3,1],[3,2],[3,3]],Ml="_",Sl=new RegExp("^[a-zA-Z0-9]+[-_][a-zA-Z0-9]+$"),zl="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",jl="none",Nl=400,Hl=Nl,_l=["Excellent!","Wow!","Congratulations!","Oh yeah!","Impressive!","Good work!","You did great!","Applause!","Great!"];class Bl{static encode(l){let n=BigInt(62),e="";for(;0<l;)e=zl.charAt(Number(l%n))+e,l/=n;return e||"0"}static decode(l){let n=BigInt(62),e=0n;for(let t=0;t<l.length;t++)e=e*n+BigInt(zl.indexOf(l[t]));return e}}function Tl(l){const n=l.flat(),e=function(l){for(let n=0;n<$l;n++){if(0!==l[80-n])return!1;if(0!==l[n])return!0}return!1}(n);e&&n.reverse();let t="",u="";for(let l=0;l<$l;l++)t+=0===n[l]?"0":"1",n[l]>0&&(u+=n[l]-1);return Bl.encode(BigInt("0b"+t))+(e?Ml:"-")+Bl.encode(BigInt(u))}function Rl(l){return l&&0!==l.trim().length&&Sl.test(l)}const El=[];function Al(n,e=l){let t;const u=new Set;function o(l){if(s(n,l)&&(n=l,t)){const l=!El.length;for(const l of u)l[1](),El.push(l,n);if(l){for(let l=0;l<El.length;l+=2)El[l][0](El[l+1]);El.length=0}}}return{set:o,update:function(l){o(l(n))},subscribe:function(s,r=l){const i=[s,r];return u.add(i),1===u.size&&(t=e(o)||l),s(n),()=>{u.delete(i),0===u.size&&t&&(t(),t=null)}}}}function Ol(n,e,t){const s=!Array.isArray(n),r=s?[n]:n,a=e.length<2;return c=n=>{let t=!1;const c=[];let d=0,f=l;const h=()=>{if(d)return;f();const t=e(s?c[0]:c,n);a?n(t):f=o(t)?t:l},p=r.map((l,n)=>i(l,l=>{c[n]=l,d&=~(1<<n),t&&h()},()=>{d|=1<<n}));return t=!0,h(),function(){u(p),f(),t=!1}},{subscribe:Al(t,c).subscribe};var c}const Il=function(){const l=Al({x:null,y:null});return{subscribe:l.subscribe,set(n,e){l.set({x:n,y:e})},move(n=0,e=0){l.update(l=>{let t=l.x+n,u=l.y+e;return t<0&&(t=8),t>=9&&(t=0),u<0&&(u=8),u>=9&&(u=0),{x:t,y:u}})},reset(){this.set(null,null)}}}();const Vl=function(){const l=Al((()=>{const l=localStorage.getItem("difficulty");return yl.hasOwnProperty(l)?l:Object.keys(yl)[0]})());return{subscribe:l.subscribe,set(n){yl.hasOwnProperty(n)&&(l.set(n),localStorage.setItem("difficulty",n))},setCustom(){l.set(vl)}}}();function Pl(l,n,e){return l(e={path:n,exports:{},require:function(l,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}var Ll=Pl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRandomIntBetween=function(l,n){return Math.floor(Math.random()*(n-l))+l}}),Fl=Pl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0});var e=[[[null,8,null,null,null,null,null,null,null],[null,6,null,null,1,null,null,null,5],[null,null,5,8,null,2,null,4,7],[null,null,8,4,null,null,null,9,1],[null,9,null,null,null,null,null,8,null],[null,null,null,6,null,null,7,null,null],[null,null,null,null,5,null,null,3,null],[null,null,null,null,null,null,null,null,null],[2,1,null,null,6,null,null,null,9]],[[5,null,2,null,null,null,null,1,null],[null,null,7,null,8,4,6,null,null],[null,null,null,3,null,null,null,2,null],[null,3,null,null,null,7,null,null,null],[8,null,5,null,null,6,2,null,null],[null,null,null,1,4,null,null,null,null],[null,9,8,null,null,null,5,null,null],[1,null,null,6,null,null,4,null,null],[null,4,null,null,5,null,null,null,null]],[[null,null,null,null,null,null,1,null,null],[null,2,null,1,7,null,null,null,4],[null,7,null,null,null,null,8,null,9],[5,null,null,null,null,3,null,null,7],[null,null,null,8,4,null,null,null,null],[7,null,2,null,null,9,4,null,null],[null,null,8,null,3,null,null,null,null],[4,null,null,5,null,null,9,null,3],[null,1,null,null,null,8,null,null,null]],[[null,4,null,null,6,null,null,9,null],[null,null,null,null,7,null,8,null,1],[null,null,null,5,null,8,2,null,null],[2,null,null,null,8,null,null,null,5],[null,null,8,null,null,null,null,1,2],[7,null,null,9,null,3,null,null,null],[null,null,null,null,5,4,6,null,null],[null,null,null,null,null,null,null,null,3],[null,null,null,7,null,null,null,null,4]],[[null,null,null,null,null,null,null,7,2],[null,null,null,null,4,null,6,null,null],[null,null,null,null,null,null,5,null,null],[null,null,6,4,null,3,null,5,null],[null,8,null,null,null,6,1,null,null],[3,9,1,2,null,null,null,4,null],[7,null,null,null,8,null,null,null,null],[null,null,null,1,null,null,null,null,null],[null,null,4,9,6,null,null,null,8]],[[null,null,9,null,1,4,null,null,null],[null,null,null,null,null,null,null,null,null],[3,6,null,null,null,null,7,null,4],[8,null,1,null,null,5,9,null,null],[4,2,7,null,null,null,6,null,null],[null,null,null,null,7,null,null,null,null],[null,null,4,null,9,1,null,8,null],[7,null,null,null,null,null,null,null,6],[null,null,null,5,null,null,null,3,null]],[[null,6,null,null,null,5,null,3,2],[null,5,null,null,4,null,1,null,null],[null,null,null,null,7,null,null,6,null],[null,1,3,null,null,null,null,null,null],[5,null,null,null,null,4,null,null,3],[2,null,null,null,null,null,null,null,null],[null,8,null,null,1,2,4,7,null],[null,4,null,7,null,null,null,null,6],[null,null,null,null,6,null,8,9,null]],[[null,1,null,null,null,null,3,4,null],[null,null,2,null,4,null,null,null,null],[null,null,null,null,null,1,7,null,2],[9,null,null,1,null,null,null,null,5],[null,null,null,6,null,2,null,3,9],[1,null,null,3,null,null,null,null,4],[null,null,null,5,2,7,null,null,null],[null,9,null,null,8,6,null,null,null],[null,null,null,null,null,null,2,null,null]],[[3,null,null,null,null,null,5,null,null],[8,null,2,null,null,null,null,7,null],[7,9,null,null,null,5,null,null,2],[null,null,null,3,null,4,7,null,null],[null,null,null,null,null,6,null,4,3],[null,1,null,null,5,8,null,9,null],[null,null,null,6,2,null,null,5,null],[null,3,null,null,null,null,8,null,null],[null,null,null,null,null,null,null,1,null]]],t=[[[null,null,null,null,null,null,2,null,null],[9,7,6,null,null,null,null,5,null],[null,null,null,null,8,3,null,null,null],[8,null,1,null,null,null,null,null,null],[5,null,7,null,null,null,6,4,1],[null,null,null,2,null,null,null,null,null],[null,null,null,8,null,null,null,null,4],[null,4,null,null,9,5,3,null,2],[7,null,5,null,null,null,null,null,null]],[[6,null,null,null,null,null,3,null,null],[null,null,5,null,3,7,null,null,null],[null,null,null,5,null,null,null,null,null],[null,7,null,3,8,null,null,4,null],[null,2,null,null,1,null,null,null,null],[null,null,8,null,null,6,null,9,null],[8,null,null,6,null,9,null,null,null],[null,null,4,null,null,8,7,null,null],[null,9,2,7,null,null,null,null,6]],[[null,null,1,null,null,9,null,4,null],[6,null,null,null,4,null,null,null,null],[null,2,8,null,null,null,9,3,null],[null,null,null,null,null,null,6,7,null],[null,null,null,8,null,null,null,null,4],[null,null,null,5,2,4,3,null,null],[null,null,null,1,null,null,5,6,null],[null,null,6,null,null,null,null,null,2],[1,null,5,9,null,null,null,null,null]],[[8,7,null,null,null,null,null,null,null],[9,null,null,null,4,null,null,5,null],[4,null,null,null,2,9,7,null,null],[null,6,null,null,7,5,null,null,3],[null,null,null,null,3,null,null,null,9],[null,null,null,null,null,null,2,null,null],[null,null,null,null,null,7,null,null,null],[null,null,3,4,null,null,9,null,null],[2,8,5,null,null,null,null,null,null]],[[null,null,null,null,null,null,7,null,null],[null,4,null,null,5,null,1,null,null],[6,9,2,null,null,null,null,3,null],[null,null,1,null,null,9,null,null,null],[null,5,null,null,null,6,null,8,null],[null,2,null,7,null,4,null,9,null],[7,null,9,null,null,null,null,null,3],[null,null,null,null,null,null,null,7,null],[null,8,null,null,6,null,null,null,null]],[[5,null,null,null,1,null,9,null,4],[null,9,null,6,null,null,7,null,null],[6,null,null,null,null,null,null,1,null],[null,null,null,null,null,3,5,null,null],[2,null,null,null,null,null,null,null,3],[null,5,9,8,null,null,null,null,null],[null,null,null,null,null,null,1,null,null],[null,4,null,3,null,8,null,null,6],[null,3,null,9,null,null,null,4,null]],[[null,3,null,null,null,null,null,null,4],[null,null,null,6,null,null,1,null,null],[4,null,null,null,2,7,null,null,null],[null,null,null,null,4,null,null,2,5],[null,null,7,null,null,null,null,null,null],[6,null,8,null,null,1,null,null,null],[null,null,null,null,8,null,7,null,null],[null,1,null,null,null,null,null,6,null],[null,null,3,null,null,5,null,null,8]],[[null,null,3,6,null,2,null,9,null],[null,null,null,9,null,null,null,null,null],[null,null,6,1,7,null,2,null,null],[7,null,null,null,null,null,null,8,null],[null,null,null,null,8,5,3,null,null],[null,null,9,null,null,null,null,null,null],[4,null,null,7,null,9,1,null,null],[null,null,null,null,4,null,null,null,2],[null,null,null,null,null,1,7,5,null]],[[8,null,4,1,null,null,null,null,null],[null,null,1,9,3,2,null,null,4],[null,null,null,null,null,null,1,null,null],[1,5,null,null,null,null,null,7,null],[null,null,null,null,null,7,null,1,6],[2,null,null,null,null,5,null,null,null],[6,null,null,null,null,1,null,5,null],[null,null,null,3,null,null,2,null,null],[null,null,null,4,null,null,null,null,7]],[[4,null,null,null,null,1,8,null,null],[null,null,null,null,6,null,null,null,5],[null,5,1,null,null,null,null,null,null],[9,null,3,8,5,null,null,2,null],[null,null,null,null,null,7,null,6,null],[null,null,null,null,null,null,null,null,9],[6,7,null,null,null,3,null,4,null],[null,null,null,4,null,8,2,null,null],[null,3,null,null,null,null,null,null,null]]],u=[[[null,null,null,null,null,null,null,null,null],[null,null,8,null,2,6,null,null,null],[3,null,null,null,null,null,1,8,9],[null,null,null,9,5,null,null,null,3],[7,null,9,null,null,null,null,null,null],[4,null,null,null,6,1,5,null,null],[1,null,null,3,null,null,2,null,5],[null,null,null,null,null,null,null,null,null],[null,null,null,5,8,null,null,null,null]],[[null,null,9,null,5,null,2,null,7],[null,null,null,1,null,null,null,null,null],[2,1,null,null,6,null,4,null,5],[1,4,null,null,7,null,null,null,null],[null,6,2,null,null,null,null,null,null],[null,null,null,5,2,9,null,null,null],[null,null,null,7,null,null,null,null,8],[null,null,1,null,null,null,null,3,null],[5,8,null,null,null,null,null,null,null]],[[1,null,null,null,7,null,null,2,null],[null,null,5,null,null,null,null,null,null],[null,8,null,null,null,3,6,null,null],[6,5,null,null,3,1,null,null,null],[null,null,null,5,null,null,null,6,null],[3,null,9,null,6,null,7,null,1],[5,null,2,null,null,4,null,null,null],[null,null,null,null,null,null,null,9,null],[9,null,4,null,null,null,8,null,null]],[[9,5,null,1,null,null,2,null,null],[null,7,null,3,null,null,null,null,null],[null,null,null,null,null,2,null,6,9],[null,null,null,null,null,null,null,null,null],[null,null,null,5,null,null,null,null,null],[null,null,4,null,3,9,null,null,8],[7,null,6,null,null,null,null,null,3],[8,null,null,null,null,null,1,4,6],[3,null,null,null,null,null,null,9,5]],[[null,4,null,null,8,null,null,null,null],[null,null,null,null,9,1,6,null,null],[null,null,null,null,null,null,3,5,null],[5,null,null,null,null,null,null,null,null],[null,null,6,3,null,8,null,null,1],[null,null,7,9,null,null,null,null,null],[7,3,9,1,null,4,null,8,null],[2,8,null,null,null,null,null,null,null],[null,null,null,null,null,null,1,2,null]],[[null,8,null,5,4,null,null,null,null],[null,null,null,null,null,6,null,1,3],[null,null,null,null,null,null,8,6,null],[null,2,null,null,null,null,null,null,7],[null,null,4,null,null,null,9,null,null],[9,3,null,null,6,null,null,null,null],[null,6,null,2,null,null,7,null,null],[5,null,null,3,null,null,4,2,null],[null,null,7,null,5,1,null,null,null]],[[null,null,null,null,null,null,null,null,null],[null,8,null,7,9,1,null,null,null],[1,null,null,null,null,null,7,5,null],[null,null,null,null,3,null,null,null,null],[9,null,7,5,null,null,null,4,2],[5,null,2,9,7,4,null,null,null],[8,null,null,1,null,null,null,null,null],[null,null,null,null,2,null,null,null,9],[null,null,4,null,5,9,null,2,null]],[[null,null,null,null,null,null,null,null,null],[1,null,5,null,null,null,2,8,null],[null,null,6,null,7,8,null,null,null],[3,null,null,null,null,null,7,null,null],[null,null,8,7,1,3,null,null,4],[null,null,null,8,null,null,null,null,null],[8,null,3,null,null,null,null,4,null],[2,null,null,6,null,null,5,1,null],[null,null,null,null,null,4,null,null,7]],[[6,9,null,1,null,null,null,null,null],[null,null,null,null,3,null,null,8,null],[3,null,null,2,null,9,null,null,null],[null,null,8,null,1,null,null,3,null],[4,null,null,null,null,null,null,null,null],[5,null,null,null,null,6,8,null,null],[null,null,2,3,null,8,4,null,null],[null,null,7,null,9,4,2,null,null],[null,null,null,null,null,null,null,5,null]],[[null,null,null,null,7,null,null,1,null],[4,6,null,null,1,null,3,null,null],[null,null,5,4,null,null,null,7,null],[7,null,null,null,null,3,4,null,null],[null,null,null,null,null,null,null,null,9],[6,null,2,9,null,null,null,null,5],[null,8,null,null,2,null,5,null,null],[null,null,null,null,null,null,null,2,null],[null,5,null,null,null,null,null,9,1]]],o=[[[null,null,null,null,null,9,5,null,null],[null,4,null,null,null,2,null,null,8],[null,null,null,1,null,3,null,null,9],[null,null,6,null,null,5,null,null,null],[null,null,4,9,null,null,null,null,null],[null,null,null,2,7,6,null,3,null],[5,3,null,null,null,null,1,null,null],[null,1,null,null,null,null,null,4,5],[null,null,null,6,null,null,8,null,null]],[[null,null,3,2,null,9,5,null,null],[8,null,null,null,5,null,null,null,null],[null,null,null,null,null,null,null,null,2],[null,3,null,null,null,8,null,null,null],[null,null,null,null,null,null,6,1,null],[null,9,null,1,null,null,null,null,7],[null,null,null,null,null,6,null,null,9],[null,6,1,3,null,null,null,8,null],[null,8,5,7,null,null,3,null,null]],[[5,null,null,null,null,null,null,null,null],[null,3,null,9,6,null,null,7,null],[2,null,null,null,null,4,8,null,null],[null,null,5,null,null,null,null,8,1],[null,null,9,null,7,null,null,null,null],[1,6,null,5,null,null,null,null,7],[3,8,7,null,2,5,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,8,null,6,null]],[[2,null,null,null,8,null,null,null,null],[null,4,null,null,null,9,6,null,null],[null,null,6,2,null,null,null,null,null],[5,null,null,1,null,null,null,6,null],[6,null,null,null,null,null,3,null,null],[1,null,9,7,null,8,null,null,2],[null,null,8,null,null,null,4,3,null],[3,null,null,null,7,null,null,null,null],[null,1,null,3,null,5,null,null,null]],[[3,null,null,null,null,9,1,null,2],[null,5,8,null,null,null,9,7,null],[7,null,null,null,null,null,null,null,null],[null,null,null,null,4,3,null,null,null],[null,null,3,9,null,null,null,null,null],[9,null,null,7,null,null,null,null,null],[null,9,null,null,6,null,5,1,3],[null,null,2,null,8,null,4,null,null],[null,null,5,null,null,4,2,null,null]],[[null,null,null,1,5,null,8,3,null],[null,null,9,null,7,4,null,null,null],[null,null,null,null,null,null,null,null,6],[null,9,null,null,4,1,null,null,2],[null,null,null,null,null,3,6,5,null],[3,null,2,null,null,null,null,null,4],[null,5,null,9,null,null,null,8,3],[6,null,null,null,null,null,4,null,null],[null,2,null,null,null,null,null,null,null]],[[null,null,5,null,null,4,8,null,null],[null,1,null,null,9,2,null,null,3],[9,null,2,null,null,null,null,5,null],[null,6,null,null,null,null,null,3,9],[null,null,3,null,null,1,7,null,null],[null,null,null,null,null,null,null,null,null],[5,null,null,4,null,null,null,8,null],[6,null,null,null,3,5,null,null,null],[null,null,9,1,null,null,null,null,7]],[[8,null,null,7,null,5,9,null,null],[7,null,6,2,null,null,null,null,null],[null,9,null,null,null,null,null,7,null],[null,null,null,null,null,null,null,null,null],[null,null,null,6,null,4,null,null,3],[null,null,null,5,2,null,null,1,4],[null,null,null,null,8,null,null,null,1],[4,null,null,null,null,1,null,3,6],[null,3,8,null,null,null,2,null,null]],[[null,null,null,null,9,null,null,null,4],[null,4,null,1,null,null,null,6,null],[null,2,7,null,null,null,null,null,5],[null,9,null,null,null,null,null,null,null],[null,null,null,8,null,3,6,null,null],[null,null,6,null,null,4,1,5,null],[null,5,2,null,null,null,null,7,null],[null,null,null,4,null,8,null,null,null],[null,null,3,null,null,5,null,4,null]],[[null,null,null,null,null,null,9,null,2],[null,null,3,null,null,null,null,7,null],[null,null,2,4,8,null,null,null,null],[null,9,null,2,null,6,5,null,3],[null,null,null,null,null,1,4,null,6],[8,null,null,5,null,null,null,null,null],[null,7,null,null,null,null,null,null,null],[null,2,null,9,1,8,null,null,null],[1,6,null,null,2,null,null,null,null]]];n.getRandomVeryEasy=function(){var l=[];return e[Ll.getRandomIntBetween(0,e.length)].forEach(function(n){return l.push(n.slice())}),l},n.getRandomEasy=function(){var l=[];return t[Ll.getRandomIntBetween(0,t.length)].forEach(function(n){return l.push(n.slice())}),l},n.getRandomMedium=function(){var l=[];return u[Ll.getRandomIntBetween(0,u.length)].forEach(function(n){return l.push(n.slice())}),l},n.getRandomHard=function(){var l=[];return o[Ll.getRandomIntBetween(0,o.length)].forEach(function(n){return l.push(n.slice())}),l}}),ql=Pl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shuffleColumns=function(l){return l=u(l),l=e(l),l=u(l)};var e=function(l){var n=[],e=[],u=[];l.forEach(function(l,t){t<3?n.push(l.slice()):t<6?e.push(l.slice()):u.push(l.slice())}),n=t(n),e=t(e),u=t(u);var o=[n,e,u],s=o.splice(Ll.getRandomIntBetween(0,o.length),1)[0],r=o.splice(Ll.getRandomIntBetween(0,o.length),1)[0],i=o[0];return l=s.concat(r,i)};n.shuffleRows=function(l){return e(l)};var t=function(l){var n=[l[0],l[1],l[2]];return l=[n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],n[0]]},u=function(l){var n=[];l.forEach(function(l){return n.push(l.slice())});for(var e=0;e<9;e++)for(var t=0;t<9;t++)l[t][e]=n[e][t];return l};n.transponseTable=function(l){return u(l)};var o=function(l){var n=[];l.forEach(function(l){return n.push(l.slice())});for(var e=0;e<9;e++)for(var t=0;t<9;t++)l[t][e]=n[e][8-t];return l};n.rotateTable=function(l,n){for(var e=null!=n?n%4:1,t=0;t<e;t++)l=o(l);return l};var s=function(l){var n=[];l.forEach(function(l){return n.push(l.slice())});for(var e=0;e<4;e++)l[e]=n[8-e],l[8-e]=n[e];return l};n.horizontallyMirrorTable=function(l){return l=s(l)},n.verticallyMirrorTable=function(l){return l=u(l),l=s(l),l=u(l)},n.randomizeTableNumbers=function(l){var n=[1,2,3,4,5,6,7,8,9],e={1:n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],2:n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],3:n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],4:n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],5:n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],6:n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],7:n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],8:n.splice(Ll.getRandomIntBetween(0,n.length),1)[0],9:n[0]};return l.forEach(function(n,t){n.forEach(function(n,u){n&&(l[t][u]=e[n])})}),l}}),Dl=Pl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0});var e=function(l){return l=ql.shuffleColumns(l),l=ql.shuffleRows(l),l=ql.rotateTable(l,Ll.getRandomIntBetween(0,4)),Ll.getRandomIntBetween(0,2)&&(l=ql.transponseTable(l)),Ll.getRandomIntBetween(0,2)&&(l=ql.horizontallyMirrorTable(l)),Ll.getRandomIntBetween(0,2)&&(l=ql.verticallyMirrorTable(l)),l=ql.randomizeTableNumbers(l)};n.getVeryEasySudoku=function(){var l=Fl.getRandomVeryEasy();return l=e(l)},n.getEasySudoku=function(){var l=Fl.getRandomEasy();return l=e(l)},n.getMediumSudoku=function(){var l=Fl.getRandomMedium();return l=e(l)},n.getHardSudoku=function(){var l=Fl.getRandomHard();return l=e(l)},n.getSudoku=function(l){switch(l+"".toLowerCase()){case"veryeasy":default:return n.getVeryEasySudoku();case"easy":return n.getEasySudoku();case"medium":return n.getMediumSudoku();case"hard":return n.getHardSudoku()}}});const Gl=Al(0),Ul=Al("");const Jl={subscribe:Al(1/0).subscribe,useHint(){Gl.update(l=>l+1)},reset(){Gl.set(0)}},Wl=Gl;const Yl=function(){const l=Al({});return{subscribe:l.subscribe,add(n,e){l.update(l=>(l.hasOwnProperty(n.x+","+n.y)?l[n.x+","+n.y].includes(e)?delete l[n.x+","+n.y][l[n.x+","+n.y].indexOf(e)]:l[n.x+","+n.y].push(e):l[n.x+","+n.y]=[e],l))},clear(n){l.update(l=>(delete l[n.x+","+n.y],l))},set(n){l.set(n)}}}(),Ql=Al([]),Xl=Al([]);function Zl(){return{userGrid:JSON.parse(JSON.stringify(a(kn))),candidates:JSON.parse(JSON.stringify(a(Yl)))}}function Kl(l,n){return l}class ln{grid;candidates;constructor(l){this.grid=Array(9).fill(null).map(()=>Array(9).fill(0)),this.candidates=Array(9).fill(null).map(()=>Array(9).fill(null).map(()=>new Set)),this._initializeCandidatesAndGrid(l)}_initializeCandidatesAndGrid(l){for(let l=0;l<9;l++)for(let n=0;n<9;n++)this.candidates[l][n]=new Set([1,2,3,4,5,6,7,8,9]);if(l)for(let n=0;n<9;n++)for(let e=0;e<9;e++){const t=l[n][e];t>=1&&t<=9&&this.setCellValue(n,e,t,!0)}}eliminateCandidates(){for(let l=0;l<9;l++)for(let n=0;n<9;n++){const e=this.getCellValue(l,n);if(0!==e){for(let t=0;t<9;t++)t!==n&&this.removeCandidate(l,t,e);for(let t=0;t<9;t++)t!==l&&this.removeCandidate(t,n,e);const t=3*Math.floor(l/3),u=3*Math.floor(n/3);for(let o=t;o<t+3;o++)for(let t=u;t<u+3;t++)o===l&&t===n||this.removeCandidate(o,t,e)}}}isValid(l,n,e){if(e<1||e>9)return!1;const t=this.getCellValue(l,n);if(0!==t&&t!==e)return!1;for(let t=0;t<9;t++)if(t!==n&&this.getCellValue(l,t)===e)return!1;for(let t=0;t<9;t++)if(t!==l&&this.getCellValue(t,n)===e)return!1;const u=3*Math.floor(l/3),o=3*Math.floor(n/3);for(let t=u;t<u+3;t++)for(let u=o;u<o+3;u++)if((t!==l||u!==n)&&this.getCellValue(t,u)===e)return!1;return!0}setCellValue(l,n,e,t=!1){if(this.grid[l][n]===e&&!t)return[];const u=[],o=this.grid[l][n],s=new Set(this.candidates[l][n]);this.grid[l][n]=e,this.candidates[l][n].clear(),u.push({type:"setCellValue",row:l,col:n,value:e,previousValue:o,previousCandidates:s});const r=this._getPeers(l,n);for(const l of r)this.removeCandidate(l.row,l.col,e)&&u.push({type:"removeCandidate",row:l.row,col:l.col,candidate:e});return u}_getPeers(l,n){const e=new Set;for(let t=0;t<9;t++)t!==n&&e.add(`${l}-${t}`);for(let t=0;t<9;t++)t!==l&&e.add(`${t}-${n}`);const t=3*Math.floor(l/3),u=3*Math.floor(n/3);for(let o=t;o<t+3;o++)for(let t=u;t<u+3;t++)o===l&&t===n||e.add(`${o}-${t}`);return Array.from(e).map(l=>({row:parseInt(l.split("-")[0]),col:parseInt(l.split("-")[1])}))}removeCandidate(l,n,e){return!(0!==this.grid[l][n]||!this.candidates[l][n].has(e))&&(this.candidates[l][n].delete(e),!0)}removeCandidates(l,n,e){const t=[];if(0===this.grid[l][n]){const u=[];for(const t of e)this.candidates[l][n].has(t)&&(this.candidates[l][n].delete(t),u.push(t));u.length>0&&t.push({type:"removeCandidates",row:l,col:n,candidates:u})}return t}clearCandidates(l,n){0===this.grid[l][n]&&this.candidates[l][n].clear()}getCandidates(l,n){return new Set(this.candidates[l][n])}getCellValue(l,n){return this.grid[l][n]}getEmptyCells(){const l=[];for(let n=0;n<9;n++)for(let e=0;e<9;e++)0===this.grid[n][e]&&l.push({row:n,col:e});return l}getRowCells(l){const n=[];for(let e=0;e<9;e++)n.push({row:l,col:e,value:this.grid[l][e],candidates:this.getCandidates(l,e)});return n}getColCells(l){const n=[];for(let e=0;e<9;e++)n.push({row:e,col:l,value:this.grid[e][l],candidates:this.getCandidates(e,l)});return n}getBoxCells(l,n){const e=[],t=3*l,u=3*n;for(let l=t;l<t+3;l++)for(let n=u;n<u+3;n++)e.push({row:l,col:n,value:this.grid[l][n],candidates:this.getCandidates(l,n)});return e}getBoxCellsByCell(l,n){return this.getBoxCells(Math.floor(l/3),Math.floor(n/3))}isSolved(){for(let l=0;l<9;l++)for(let n=0;n<9;n++)if(0===this.grid[l][n])return!1;return!0}getGrid(){return this.grid}clone(){const l=new ln;return l.grid=this.grid.map(l=>[...l]),l.candidates=this.candidates.map(l=>l.map(l=>new Set(l))),l}toString(){return this.grid.map(l=>l.join(" ")).join("\n").replace(/0/g,".")}}function nn(l){let n=!1;const e=[];for(let t=0;t<9;t++){for(let u=0;u<9;u++){const o=l.getCandidates(t,u);if(1===o.size){const s=Array.from(o)[0];e.push({row:t,col:u,value:s}),l.setCellValue(t,u,s),n=!0;break}}if(n)break}return{modified:n,steps:e}}class en{strategyName;constructor(l){if(this.constructor===en)throw new Error("Abstract class 'Strategy' cannot be instantiated directly.");this.strategyName=l}apply(l){throw new Error(`Method 'apply()' must be implemented by subclass ${this.constructor.name}.`)}}class tn{constructor(l,n,e){this.strategyName=l,this.description=n,this.effects=e}}class un extends en{subsetSize;constructor(l,n){if(super(l),this.constructor===un)throw new Error("Abstract class 'NakedSubsetStrategy' cannot be instantiated directly.");this.subsetSize=n}apply(l){let n=!1;const e=[],t=[];for(let n=0;n<9;n++)t.push({cells:l.getRowCells(n),name:`row ${n+1}`}),t.push({cells:l.getColCells(n),name:`column ${n+1}`}),t.push({cells:l.getBoxCells(Math.floor(n/3),n%3),name:`box ${n+1}`});for(const u of t)this._findNakedSubsetsInUnit(l,u.cells,e,u.name)&&(n=!0);return{modified:n,steps:e}}_findNakedSubsetsInUnit(l,n,e,t){let u=!1;const o=n.filter(l=>0===l.value&&l.candidates.size>=2&&l.candidates.size<=this.subsetSize);if(o.length<this.subsetSize)return!1;const s=this._getCombinations(o,this.subsetSize);for(const o of s){const s=new Set;if(o.forEach(l=>l.candidates.forEach(l=>s.add(l))),s.size===this.subsetSize){const r=Array.from(s);let i=!1;const a=[],c=o.map(l=>`(${l.row+1},${l.col+1})`).join(", ");for(const e of n)if(0===e.value&&!o.some(l=>l.row===e.row&&l.col===e.col)){const n=r.filter(l=>e.candidates.has(l));if(n.length>0){const t=l.removeCandidates(e.row,e.col,n);a.push(...t),t.length>0&&(i=!0)}}if(i){const l=`${this.strategyName} [${r.join(",")}] in ${t} at cells ${c}. Removed these candidates from other cells in ${t}.`;a.unshift({type:"highlightCells",cells:o.map(l=>({row:l.row,col:l.col}))}),a.unshift({type:"highlightCandidates",cells:o.map(l=>({row:l.row,col:l.col,candidates:[...l.candidates]}))}),e.push(new tn(this.strategyName,l,a)),u=!0}}}return u}_getCombinations(l,n){const e=[];return function t(u,o){o.length!==n?u!==l.length&&(o.push(l[u]),t(u+1,o),o.pop(),t(u+1,o)):e.push([...o])}(0,[]),e}}class on extends un{constructor(){super("NakedPair",2)}}class sn extends un{constructor(){super("NakedTriple",3)}}class rn extends un{constructor(){super("NakedQuad",4)}}class an extends en{constructor(){super("HiddenSingle")}apply(l){const n=[];let e=!1;const t=[];for(let n=0;n<9;n++)t.push({cells:l.getRowCells(n),name:`row ${n+1}`}),t.push({cells:l.getColCells(n),name:`column ${n+1}`}),t.push({cells:l.getBoxCells(Math.floor(n/3),n%3),name:`box ${n+1}`});for(const u of t)this._findHiddenSinglesInUnit(l,u.cells,n,u.name)&&(e=!0);return{modified:e,steps:n}}_findHiddenSinglesInUnit(l,n,e,t){let u=!1;for(let o=1;o<=9;o++){const s=n.filter(l=>0===l.value&&l.candidates.has(o));if(1===s.length){const n=s[0];if(0===l.getCellValue(n.row,n.col)){const s=l.setCellValue(n.row,n.col,o),r=`Hidden Single: Cell (${n.row+1},${n.col+1}) is the only cell in ${t} that can be ${o}. Set to ${o}.`;e.push(new tn(this.strategyName,r,s)),u=!0}}}return u}}class cn extends en{subsetSize;constructor(l,n){if(super(l),this.constructor===cn)throw new Error("Abstract class 'HiddenSubsetStrategy' cannot be instantiated directly.");this.subsetSize=n}apply(l){let n=!1;const e=[],t=[];for(let n=0;n<9;n++)t.push({cells:l.getRowCells(n),name:`row ${n+1}`}),t.push({cells:l.getColCells(n),name:`column ${n+1}`}),t.push({cells:l.getBoxCells(Math.floor(n/3),n%3),name:`box ${n+1}`});for(const u of t)this._findHiddenSubsetsInUnit(l,u.cells,e,u.name)&&(n=!0);return{modified:n,steps:e}}_findHiddenSubsetsInUnit(l,n,e,t){const u=n.filter(l=>0===l.value);let o=new Set([1,2,3,4,5,6,7,8,9]);for(const l of n)0!==l.value&&o.delete(l.value);const s=this._getCandidateCombinations(o,this.subsetSize);if(0===s.length)return!1;let r=!1;for(const n of s){let o=new Set;for(const l of n)for(const n of u)n.candidates.has(l)&&o.add(n);if(o.size===this.subsetSize){for(const e of o)l.candidates[e.row][e.col]=new Set(Array.from(e.candidates).filter(l=>n.includes(l)));r=!0;let u={type:"removeCandidates",cells:Array.from(o).map(l=>({row:l.row,col:l.col,candidates:Array.from(l.candidates)}))};e.push(new tn(`Hidden Subset (${this.subsetSize}) in ${t}`,`Found hidden subset ${n.join(", ")} in ${t}.`,u))}}return r}_getCandidateCombinations(l,n){const e=l;if(e.length<n)return[];return function l(n,e){if(0===e)return[[]];if(0===n.length)return[];const[t,...u]=n;return[...l(u,e-1).map(l=>[t,...l]),...l(u,e)]}(e,n)}}class dn extends cn{constructor(){super("HiddenPair",2)}}class fn extends cn{constructor(){super("HiddenTriple",3)}}class hn extends cn{constructor(){super("HiddenTriple",4)}}function pn(l){const n=l.clone();const e=function l(n){for(let e=0;e<9;e++)for(let t=0;t<9;t++)if(0===n.getCellValue(e,t)){for(let u=1;u<=9;u++)if(n.isValid(e,t,u)){if(n.setCellValue(e,t,u),l(n))return!0;n.setCellValue(e,t,0)}return!1}return!0}(n);return e?n:null}class mn extends en{constructor(){super("ShowPossible")}apply(l,n=null,e=null){const t=[];let u=!1;if(null===n||null===e){let u=10,o=null;for(let n=0;n<9;n++)for(let e=0;e<9;e++)if(0===l.getCellValue(n,e)){const t=l.getCandidates(n,e);t.size>0&&t.size<u&&(u=t.size,o={row:n,col:e})}if(!o)return{modified:!1,steps:t};n=o.row,e=o.col}if(0!==l.getCellValue(n,e))return{modified:!1,steps:t};const o=l.getCandidates(n,e);if(o.size>0){const l=[{type:"highlightCells",cells:[{row:n,col:e}],color:"#ffeb3b"},{type:"highlightCandidates",cells:[{row:n,col:e,candidates:Array.from(o)}],color:"#2196f3"}],s=`Show Possible: Cell (${n+1},${e+1}) can contain: ${Array.from(o).sort((l,n)=>l-n).join(", ")}`;t.push(new tn(this.strategyName,s,l)),u=!0}return{modified:u,steps:t}}static showPossibleForCell(l,n,e){return(new mn).apply(l,n,e)}}const gn=["ShowPossible","HiddenSingle","NakedPair","HiddenPair","NakedTriple","NakedQuad","HiddenTriple","HiddenQuad","IntersectionRemoval","BoxLineReduction"],wn=[l=>(new mn).apply(l),l=>(new an).apply(l),l=>(new on).apply(l),l=>(new dn).apply(l),l=>(new sn).apply(l),l=>(new rn).apply(l),l=>(new fn).apply(l),l=>(new hn).apply(l),function(l){const n=[];for(let e=1;e<=9;e++)for(let t=0;t<3;t++)for(let u=0;u<3;u++){const o=l.getBoxCells(t,u).filter(l=>l.candidates.has(e));if(o.length<2)continue;const s=o.every(l=>l.row===o[0].row),r=o.every(l=>l.col===o[0].col);if(s){const s=o[0].row;l.getRowCells(s).forEach(o=>{!(Math.floor(o.row/3)===t&&Math.floor(o.col/3)===u)&&o.candidates.has(e)&&n.push(...l.removeCandidates(o.row,o.col,[e]))})}if(r){const s=o[0].col;l.getColCells(s).forEach(o=>{!(Math.floor(o.row/3)===t&&Math.floor(o.col/3)===u)&&o.candidates.has(e)&&n.push(...l.removeCandidates(o.row,o.col,[e]))})}}return n},function(l){for(let n=0;n<9;n++)for(let e=1;e<=9;e++){const t=[];for(let u=0;u<9;u++)0===l.getCellValue(n,u)&&l.candidates[n][u].has(e)&&t.push({row:n,col:u});if(t.length>=2&&t.length<=3){const u=l=>3*Math.floor(l.row/3)+Math.floor(l.col/3),o=u(t[0]);if(t.every(l=>u(l)===o)){const t=Math.floor(o/3),u=o%3,s=l.getBoxCells(t,u);for(const t of s)t.row!==n&&0===t.value&&t.candidates.has(e)&&l.removeCandidate(t.row,t.col,e)}}}for(let n=0;n<9;n++)for(let e=1;e<=9;e++){const t=[];for(let u=0;u<9;u++)0===l.getCellValue(u,n)&&l.candidates[u][n].has(e)&&t.push({row:u,col:n});if(t.length>=2&&t.length<=3){const u=l=>3*Math.floor(l.row/3)+Math.floor(l.col/3),o=u(t[0]);if(t.every(l=>u(l)===o)){const t=Math.floor(o/3),u=o%3,s=l.getBoxCells(t,u);for(const t of s)t.col!==n&&0===t.value&&t.candidates.has(e)&&l.removeCandidate(t.row,t.col,e)}}}}];function bn(l){const n=function(l){const n=[];for(let e=0;e<wn.length;++e){const t=l.clone();wn[e](t),n.push(gn[e]);const{steps:u}=nn(t);if(u.length>0){const{row:l,col:e,value:t}=u[0];return{row:l,col:e,value:t,chain:n}}}return null}(l);if(n){const e=pn(l);if(e){return e.getCellValue(n.row,n.col)===n.value?{type:"hint",row:n.row,col:n.col,value:n.value,chain:n.chain}:(console.warn("逻辑策略结果错误，使用暴力搜索验证"),vn(l))}return vn(l)}return vn(l)}function vn(l){const n=pn(l);if(!n)return null;let e=10,t=null;for(let n=0;n<9;++n)for(let u=0;u<9;++u)if(0===l.getCellValue(n,u)){const o=l.getCandidates(n,u);o.size<e&&(e=o.size,t={row:n,col:u})}if(t){const l=n.getCellValue(t.row,t.col);return{type:"brute",row:t.row,col:t.col,value:l}}return null}const yn=Al(new Set);const xn=function(){const l=Al([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]);return{subscribe:l.subscribe,set:l.set,generate(n){l.set(function(l="easy"){const n=Dl.getSudoku(l);for(let l=0;l<9;l++)for(let e=0;e<9;e++)null===n[l][e]&&(n[l][e]=0);return n}(n))},decodeSencode(n){l.set(function(l){let n=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];const e=-1!==l.indexOf(Ml),[t,u]=l.split(e?Ml:"-"),o=Bl.decode(t).toString(2).padStart($l,"0");let s=0;for(let l=0;l<$l;l++)"1"===o[l]&&s++;let r=Bl.decode(u).toString().padStart(s,"0").split("");for(let l=0;l<$l;l++)if("1"===o[l]){const[e,t]=kl[l];n[e][t]=1*r.shift()+1}return e&&(n=n.reverse().map(l=>l.reverse())),n}(n))},get:(l,n,e)=>l[e][n],getSencode:l=>Tl(l)}}();const $n=function(){const l=Al([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),n=Al(null);return xn.subscribe(e=>{let t=[];for(let l=0;l<9;l++){t[l]=[];for(let n=0;n<9;n++)t[l][n]=e[l][n]}l.set(t);const u=pn(new ln(e));u?(n.set(u),console.log("Solution calculated and stored")):(n.set(null),console.error("Failed to calculate solution"))}),{subscribe:l.subscribe,setGrid:l.set,solution:n,set:(n,e)=>{var t,u;l.update(l=>(l[n.y][n.x]=e,l)),0!==e&&(t=n.x,u=n.y,console.log("Adding user input at:",t,u),yn.update(l=>(l.add(`${t},${u}`),console.log("Updated userInputs set:",l),l)))},setValue:(n,e)=>{l.update(l=>(l[n.y][n.x]=e,l))},applyHint:(e=null)=>{let t;return Jl.useHint(),l.update(l=>{const u=bn(new ln(l));if(u)"hint"===u.type?t={x:u.col,y:u.row,value:u.value,type:"hint",chain:u.chain}:"brute"===u.type&&(t={x:u.col,y:u.row,value:u.value,type:"brute"});else{const u=a(n);if(u){let n=e?e.y:0,o=e?e.x:0;if(!e)for(let e=0;e<9;e++){for(let t=0;t<9;t++)if(0===l[e][t]){n=e,o=t;break}if(0!==n||0!==o)break}const s=u.getCellValue(n,o);t={x:o,y:n,value:s,type:"stored"}}else{const n=pn(new ln(l));if(n){let u=e?e.y:0,o=e?e.x:0;if(!e)for(let n=0;n<9;n++){for(let e=0;e<9;e++)if(0===l[n][e]){u=n,o=e;break}if(0!==u||0!==o)break}t={x:o,y:u,value:n.getCellValue(u,o),type:"fallback"}}else console.error("无法求解数独"),t=null}}return l}),t&&(l.update(l=>(l[t.y][t.x]=t.value,l)),Yl.set({})),Xl.set([]),t},showPossible:e=>{let t;return l.update(l=>{console.log("showPossible called with pos:",e);const u=function(l,n,e){const t=(new mn).apply(l,n,e);if(t.modified&&t.steps.length>0){const l=t.steps[0];return{type:"showPossible",row:n,col:e,candidates:l.effects.find(l=>"highlightCandidates"===l.type)?.cells[0]?.candidates||[],description:l.description}}return null}(new ln(l),e.y,e.x);if(console.log("showPossible result:",u),u)t={x:u.col,y:u.row,candidates:u.candidates,description:u.description,type:"showPossible"};else{const l=a(n);if(l){const n=l.getCellValue(e.y,e.x);0!==n&&(t={x:e.x,y:e.y,candidates:[n],description:`Cell (${e.y+1},${e.x+1}) can only contain: ${n}`,type:"showPossible"})}}return l}),t}}}(),kn=$n,Cn=$n.solution,Mn=Al([]);kn.subscribe(l=>{Mn.update(n=>n.filter(n=>{const[e,t]=n.split(",").map(Number);return 0!==l[t][e]}))});const Sn=Ol([kn,Mn],([l,n])=>{const e=[],t=(l,n)=>{const t=l+","+n;e.includes(t)||e.push(t)};for(let n=0;n<9;n++)for(let e=0;e<9;e++){const u=l[n][e];if(u){for(let o=0;o<9;o++)o!==e&&l[n][o]===u&&t(e,n),o!==n&&l[o][e]===u&&t(e,o);const o=3*Math.floor(n/3),s=o+3,r=3*Math.floor(e/3),i=r+3;for(let a=o;a<s;a++)for(let o=r;o<i;o++)a!==n&&o!==e&&l[a][o]===u&&t(o,a)}}for(const l of n)e.includes(l)||e.push(l);return e},[]),zn=Al(!0),jn=Ol([kn,Sn],([l,n])=>{for(let n=0;n<9;n++)for(let e=0;e<9;e++)if(0===l[n][e])return!1;return 0===n.length},!1);const Nn=function(){let l=null,n=null,e=null,t=0,u=!1;const o=Al("00:00");return{subscribe:o.subscribe,start(){u||(null===n&&(this.reset(),n=Date.now()),null!==e&&(t+=Date.now()-e),l=setInterval(()=>{const l=Date.now()-n-t,e=new Date(l).toISOString().substr(11,8);"00"!==e.substr(0,2)?o.set(e):o.set(e.substr(3))},10),u=!0)},stop(){u=!1,e=Date.now(),clearInterval(l)},reset(){u=!1,clearInterval(l),t=0,n=null,e=null,o.set("00:00")}}}();function Hn(l){kn.setGrid(l.userGrid),Yl.set(l.candidates)}function _n(l){Vl.set(l),xn.generate(l),Il.reset(),Nn.reset(),Jl.reset(),location.hash=""}function Bn(l){Vl.setCustom(),xn.decodeSencode(l),Il.reset(),Nn.reset(),Jl.reset()}function Tn(){Nn.stop(),zn.set(!0)}function Rn(){Nn.start(),zn.set(!1)}function En(l,n,e){var t;t=Zl(),Ql.update(l=>[...l,t]),Xl.set([])}function An(){!function(l){Ql.update(n=>{if(0===n.length)return console.warn("Undo stack is empty, cannot undo."),n;Xl.update(l=>{const n=Zl();return l.push(n),l});const e=Kl(JSON.parse(JSON.stringify(n[n.length-1])));return l(e),n.slice(0,-1)})}(Hn)}function On(){!function(l){Xl.update(n=>{if(0===n.length)return console.warn("Redo stack is empty, cannot redo."),n;Ql.update(l=>{const n=Zl();return l.push(n),l});const e=Kl(JSON.parse(JSON.stringify(n[n.length-1])));return l(e),n.slice(0,-1)})}(Hn)}var In={startNew:_n,startCustom:Bn,pause:Tn,resume:Rn,makeMove:En,undoMove:An,redoMove:On};const Vn=Al({});const Pn=function(){const l=Al(jl);let n=!1,e=!1;return{subscribe:l.subscribe,show(t,u={}){l.set(t),Vn.set(u),n=u.onHide||!1,e=u.onHideReplace||!1},hide(){e&&n?n():(l.set(jl),n&&setTimeout(n,Nl))}}}();const Ln=function(){const l=Al((()=>{const l=localStorage.getItem("settings");return l?JSON.parse(l):xl})());return{subscribe:l.subscribe,set(n){l.set(n),localStorage.setItem("settings",JSON.stringify(n))}}}(),Fn=Al([]);function qn(l,n,e){const t=Zl();Fn.update(l=>[...l,t]),kn.set({x:l,y:n},e);const u={...a(Yl)};delete u[`${l},${n}`],Yl.set(u),Ql.set([]),Xl.set([])}function Dn(){Fn.update(l=>{if(0===l.length)return l;const n=l[l.length-1];return kn.setGrid(n.userGrid),Yl.set(n.candidates),l.slice(0,-1)})}function Gn(l,n,e){const t=l.slice();return t[5]=n[e][0],t[6]=n[e][1],t[8]=e,t}function Un(l){let n,e,t,u,o,s=l[8]+1+"";function r(){return l[4](l[8])}return{c(){n=k("div"),e=M(s),t=S(),H(n,"class","candidate row-start-"+l[5]+" col-start-"+l[6]+" svelte-1lqj50t"),E(n,"invisible",!l[0].includes(l[8]+1)),E(n,"visible",l[0].includes(l[8]+1))},m(l,s){y(l,n,s),w(n,e),w(n,t),u||(o=j(n,"click",r),u=!0)},p(e,t){l=e,1&t&&E(n,"invisible",!l[0].includes(l[8]+1)),1&t&&E(n,"visible",l[0].includes(l[8]+1))},d(l){l&&x(n),u=!1,o()}}}function Jn(n){let e,t=Cl,u=[];for(let l=0;l<t.length;l+=1)u[l]=Un(Gn(n,t,l));return{c(){e=k("div");for(let l=0;l<u.length;l+=1)u[l].c();H(e,"class","candidate-grid svelte-1lqj50t")},m(l,n){y(l,e,n);for(let l=0;l<u.length;l+=1)u[l]&&u[l].m(e,null)},p(l,[n]){if(3&n){let o;for(t=Cl,o=0;o<t.length;o+=1){const s=Gn(l,t,o);u[o]?u[o].p(s,n):(u[o]=Un(s),u[o].c(),u[o].m(e,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=t.length}},i:l,o:l,d(l){l&&x(e),$(u,l)}}}function Wn(l,n,e){let{candidates:t=[]}=n,{x:u}=n,{y:o}=n;function s(l){t.includes(l)?qn(u,o,l):console.log(`数字 ${l} 不是候选值`)}return l.$$set=l=>{"candidates"in l&&e(0,t=l.candidates),"x"in l&&e(2,u=l.x),"y"in l&&e(3,o=l.y)},[t,s,u,o,l=>s(l+1)]}class Yn extends bl{constructor(l){super(),wl(this,l,Wn,Jn,s,{candidates:0,x:2,y:3})}}function Qn(l){const n=l-1;return n*n*n+1}function Xn(l,{delay:e=0,duration:t=400,easing:u=n}={}){const o=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:u,css:l=>"opacity: "+l*o}}function Zn(l,{delay:n=0,duration:e=400,easing:t=Qn,x:u=0,y:o=0,opacity:s=0}={}){const r=getComputedStyle(l),i=+r.opacity,a="none"===r.transform?"":r.transform,c=i*(1-s),[f,h]=d(u),[p,m]=d(o);return{delay:n,duration:e,easing:t,css:(l,n)=>`\n\t\t\ttransform: ${a} translate(${(1-l)*f}${h}, ${(1-l)*p}${m});\n\t\t\topacity: ${i-c*n}`}}function Kn(l,{delay:n=0,duration:e=400,easing:t=Qn,axis:u="y"}={}){const o=getComputedStyle(l),s=+o.opacity,r="y"===u?"height":"width",i=parseFloat(o[r]),a="y"===u?["top","bottom"]:["left","right"],c=a.map(l=>`${l[0].toUpperCase()}${l.slice(1)}`),d=parseFloat(o[`padding${c[0]}`]),f=parseFloat(o[`padding${c[1]}`]),h=parseFloat(o[`margin${c[0]}`]),p=parseFloat(o[`margin${c[1]}`]),m=parseFloat(o[`border${c[0]}Width`]),g=parseFloat(o[`border${c[1]}Width`]);return{delay:n,duration:e,easing:t,css:l=>`overflow: hidden;opacity: ${Math.min(20*l,1)*s};${r}: ${l*i}px;padding-${a[0]}: ${l*d}px;padding-${a[1]}: ${l*f}px;margin-${a[0]}: ${l*h}px;margin-${a[1]}: ${l*p}px;border-${a[0]}-width: ${l*m}px;border-${a[1]}-width: ${l*g}px;`}}function le(l,{delay:n=0,duration:e=400,easing:t=Qn,start:u=0,opacity:o=0}={}){const s=getComputedStyle(l),r=+s.opacity,i="none"===s.transform?"":s.transform,a=1-u,c=r*(1-o);return{delay:n,duration:e,easing:t,css:(l,n)=>`\n\t\t\ttransform: ${i} scale(${1-a*n});\n\t\t\topacity: ${r-c*n}\n\t\t`}}function ne(l){let n,e,t,u,o,s,r;const i=[te,ee],a=[];function c(l,n){return l[3]?0:1}return t=c(l),u=a[t]=i[t](l),{c(){n=k("div"),e=k("button"),u.c(),H(e,"class","cell-btn svelte-53qaw5"),H(n,"class","cell-inner svelte-53qaw5"),E(n,"user-number",l[6]),E(n,"hint-number",l[7]),E(n,"selected",l[8]),E(n,"same-area",l[9]),E(n,"same-number",l[10]),E(n,"conflicting-number",l[5])},m(u,i){y(u,n,i),w(n,e),a[t].m(e,null),o=!0,s||(r=j(e,"click",l[15]),s=!0)},p(l,s){let r=t;t=c(l),t===r?a[t].p(l,s):(sl(),al(a[r],1,1,()=>{a[r]=null}),rl(),u=a[t],u?u.p(l,s):(u=a[t]=i[t](l),u.c()),il(u,1),u.m(e,null)),(!o||64&s)&&E(n,"user-number",l[6]),(!o||128&s)&&E(n,"hint-number",l[7]),(!o||256&s)&&E(n,"selected",l[8]),(!o||512&s)&&E(n,"same-area",l[9]),(!o||1024&s)&&E(n,"same-number",l[10]),(!o||32&s)&&E(n,"conflicting-number",l[5])},i(l){o||(il(u),o=!0)},o(l){al(u),o=!1},d(l){l&&x(n),a[t].d(),s=!1,r()}}}function ee(n){let e,t,u=(n[0]||"")+"";return{c(){e=k("span"),t=M(u),H(e,"class","cell-text svelte-53qaw5")},m(l,n){y(l,e,n),w(e,t)},p(l,n){1&n&&u!==(u=(l[0]||"")+"")&&_(t,u)},i:l,o:l,d(l){l&&x(e)}}}function te(l){let n,e;return n=new Yn({props:{candidates:l[3],x:l[1]-1,y:l[2]-1}}),{c(){hl(n.$$.fragment)},m(l,t){pl(n,l,t),e=!0},p(l,e){const t={};8&e&&(t.candidates=l[3]),2&e&&(t.x=l[1]-1),4&e&&(t.y=l[2]-1),n.$set(t)},i(l){e||(il(n.$$.fragment,l),e=!0)},o(l){al(n.$$.fragment,l),e=!1},d(l){ml(n,l)}}}function ue(l){let n,e,t,u=!l[4]&&ne(l);return{c(){n=k("div"),u&&u.c(),H(n,"class",e="cell row-start-"+l[2]+" col-start-"+l[1]+" svelte-53qaw5"),E(n,"border-r",l[11]),E(n,"border-r-4",l[12]),E(n,"border-b",l[13]),E(n,"border-b-4",l[14])},m(l,e){y(l,n,e),u&&u.m(n,null),t=!0},p(l,[o]){l[4]?u&&(sl(),al(u,1,1,()=>{u=null}),rl()):u?(u.p(l,o),16&o&&il(u,1)):(u=ne(l),u.c(),il(u,1),u.m(n,null)),(!t||6&o&&e!==(e="cell row-start-"+l[2]+" col-start-"+l[1]+" svelte-53qaw5"))&&H(n,"class",e),(!t||2054&o)&&E(n,"border-r",l[11]),(!t||4102&o)&&E(n,"border-r-4",l[12]),(!t||8198&o)&&E(n,"border-b",l[13]),(!t||16390&o)&&E(n,"border-b-4",l[14])},i(l){t||(il(u),t=!0)},o(l){al(u),t=!1},d(l){l&&x(n),u&&u.d()}}}function oe(l,n,e){let{value:t}=n,{cellX:u}=n,{cellY:o}=n,{candidates:s}=n,{disabled:r}=n,{conflictingNumber:i}=n,{userNumber:a}=n,{hintNumber:c}=n,{selected:d}=n,{sameArea:f}=n,{sameNumber:h}=n;const p=9!==u&&u%3!=0,m=9!==u&&u%3==0,g=9!==o&&o%3!=0,w=9!==o&&o%3==0;return l.$$set=l=>{"value"in l&&e(0,t=l.value),"cellX"in l&&e(1,u=l.cellX),"cellY"in l&&e(2,o=l.cellY),"candidates"in l&&e(3,s=l.candidates),"disabled"in l&&e(4,r=l.disabled),"conflictingNumber"in l&&e(5,i=l.conflictingNumber),"userNumber"in l&&e(6,a=l.userNumber),"hintNumber"in l&&e(7,c=l.hintNumber),"selected"in l&&e(8,d=l.selected),"sameArea"in l&&e(9,f=l.sameArea),"sameNumber"in l&&e(10,h=l.sameNumber)},[t,u,o,s,r,i,a,c,d,f,h,p,m,g,w,function(){Il.set(u-1,o-1)}]}class se extends bl{constructor(l){super(),wl(this,l,oe,ue,s,{value:0,cellX:1,cellY:2,candidates:3,disabled:4,conflictingNumber:5,userNumber:6,hintNumber:7,selected:8,sameArea:9,sameNumber:10})}}function re(l,n,e){const t=l.slice();return t[9]=n[e],t[11]=e,t}function ie(l,n,e){const t=l.slice();return t[12]=n[e],t[14]=e,t}function ae(l){let n,e;return n=new se({props:{value:l[12],cellY:l[11]+1,cellX:l[14]+1,candidates:l[2][l[14]+","+l[11]],disabled:l[0],selected:fe(l[3],l[14],l[11]),userNumber:0===l[4][l[11]][l[14]]&&0!==l[12]&&pe(l[5],l[14],l[11]),hintNumber:0===l[4][l[11]][l[14]]&&0!==l[12]&&!pe(l[5],l[14],l[11]),sameArea:l[6].highlightCells&&!fe(l[3],l[14],l[11])&&l[8](l[3],l[14],l[11]),sameNumber:l[6].highlightSame&&l[12]&&!fe(l[3],l[14],l[11])&&he(l[1],l[3])===l[12],conflictingNumber:me(l[7],l[1],l[14],l[11])}}),{c(){hl(n.$$.fragment)},m(l,t){pl(n,l,t),e=!0},p(l,e){const t={};2&e&&(t.value=l[12]),4&e&&(t.candidates=l[2][l[14]+","+l[11]]),1&e&&(t.disabled=l[0]),8&e&&(t.selected=fe(l[3],l[14],l[11])),50&e&&(t.userNumber=0===l[4][l[11]][l[14]]&&0!==l[12]&&pe(l[5],l[14],l[11])),50&e&&(t.hintNumber=0===l[4][l[11]][l[14]]&&0!==l[12]&&!pe(l[5],l[14],l[11])),72&e&&(t.sameArea=l[6].highlightCells&&!fe(l[3],l[14],l[11])&&l[8](l[3],l[14],l[11])),74&e&&(t.sameNumber=l[6].highlightSame&&l[12]&&!fe(l[3],l[14],l[11])&&he(l[1],l[3])===l[12]),130&e&&(t.conflictingNumber=me(l[7],l[1],l[14],l[11])),n.$set(t)},i(l){e||(il(n.$$.fragment,l),e=!0)},o(l){al(n.$$.fragment,l),e=!1},d(l){ml(n,l)}}}function ce(l){let n,e,t=l[9],u=[];for(let n=0;n<t.length;n+=1)u[n]=ae(ie(l,t,n));const o=l=>al(u[l],1,1,()=>{u[l]=null});return{c(){for(let l=0;l<u.length;l+=1)u[l].c();n=z()},m(l,t){for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(l,t);y(l,n,t),e=!0},p(l,e){if(511&e){let s;for(t=l[9],s=0;s<t.length;s+=1){const o=ie(l,t,s);u[s]?(u[s].p(o,e),il(u[s],1)):(u[s]=ae(o),u[s].c(),il(u[s],1),u[s].m(n.parentNode,n))}for(sl(),s=t.length;s<u.length;s+=1)o(s);rl()}},i(l){if(!e){for(let l=0;l<t.length;l+=1)il(u[l]);e=!0}},o(l){u=u.filter(Boolean);for(let l=0;l<u.length;l+=1)al(u[l]);e=!1},d(l){$(u,l),l&&x(n)}}}function de(l){let n,e,t,u,o,s,r=l[1],i=[];for(let n=0;n<r.length;n+=1)i[n]=ce(re(l,r,n));const a=l=>al(i[l],1,1,()=>{i[l]=null});return{c(){n=k("div"),e=k("div"),e.innerHTML='<div class="w-full" style="padding-top: 100%"></div>',t=S(),u=k("div"),o=k("div");for(let l=0;l<i.length;l+=1)i[l].c();H(e,"class","max-w-xl relative"),H(o,"class","bg-white shadow-2xl rounded-xl overflow-hidden w-full h-full max-w-xl grid"),E(o,"bg-gray-200",l[0]),H(u,"class","board-padding absolute inset-0 flex justify-center svelte-yrggow"),H(n,"class","board-padding relative z-10 svelte-yrggow")},m(l,r){y(l,n,r),w(n,e),w(n,t),w(n,u),w(u,o);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(o,null);s=!0},p(l,[n]){if(511&n){let e;for(r=l[1],e=0;e<r.length;e+=1){const t=re(l,r,e);i[e]?(i[e].p(t,n),il(i[e],1)):(i[e]=ce(t),i[e].c(),il(i[e],1),i[e].m(o,null))}for(sl(),e=r.length;e<i.length;e+=1)a(e);rl()}(!s||1&n)&&E(o,"bg-gray-200",l[0])},i(l){if(!s){for(let l=0;l<r.length;l+=1)il(i[l]);s=!0}},o(l){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)al(i[l]);s=!1},d(l){l&&x(n),$(i,l)}}}function fe(l,n,e){return null!==l.x&&null!==l.y&&(l.x===n&&l.y===e)}function he(l,n){return null===n.x||null===n.y?null:l[n.y][n.x]}function pe(l,n,e){return l.has(`${n},${e}`)}function me(l,n,e,t){if(!l)return!1;const u=n[t][e],o=l.getCellValue(t,e);return 0!==u&&u!==o}function ge(l,n,e){let t,u,o,s,r,i,a,d;return c(l,zn,l=>e(0,t=l)),c(l,kn,l=>e(1,u=l)),c(l,Yl,l=>e(2,o=l)),c(l,Il,l=>e(3,s=l)),c(l,xn,l=>e(4,r=l)),c(l,yn,l=>e(5,i=l)),c(l,Ln,l=>e(6,a=l)),c(l,Cn,l=>e(7,d=l)),[t,u,o,s,r,i,a,d,function(l,n,e){if(null===l.x||null===l.y)return!1;if(l.x===n||l.y===e)return!0;const t=Math.floor(l.x/3),u=Math.floor(l.y/3),o=Math.floor(n/3),s=Math.floor(e/3);return t===o&&u===s}]}class we extends bl{constructor(l){super(),wl(this,l,ge,de,s,{})}}function be(l){let n;return{c(){n=C("path"),H(n,"stroke-linecap","round"),H(n,"stroke-linejoin","round"),H(n,"stroke-width","2"),H(n,"d","M6 3v18M18 3v18")},m(l,e){y(l,n,e)},d(l){l&&x(n)}}}function ve(l){let n;return{c(){n=C("path"),H(n,"stroke-linecap","round"),H(n,"stroke-linejoin","round"),H(n,"stroke-width","2"),H(n,"d","M18.19 9.61L9.01 3.48A2.87 2.87 0 004.54 5.88v12.25a2.87 2.87 0 004.47 2.39l9.18-6.12a2.87 2.87 0 000-4.78v0z")},m(l,e){y(l,n,e)},d(l){l&&x(n)}}}function ye(l){let n,e;return{c(){n=k("span"),e=M(l[2]),H(n,"class","timer-text svelte-17abf90"),H(n,"title","Time")},m(l,t){y(l,n,t),w(n,e)},p(l,n){4&n&&_(e,l[2])},d(l){l&&x(n)}}}function xe(n){let e,t,u,o,s,r,i;function a(l,n){return l[0]?ve:be}let c=a(n),d=c(n),f=n[1].displayTimer&&ye(n);return{c(){e=k("div"),t=k("button"),u=C("svg"),d.c(),s=S(),f&&f.c(),H(u,"class","icon-outline"),H(u,"xmlns","http://www.w3.org/2000/svg"),H(u,"fill","none"),H(u,"viewBox","0 0 24 24"),H(u,"stroke","currentColor"),H(t,"class","btn btn-round"),H(t,"title",o=n[0]?"Resume Game":"Pause Game"),H(e,"class","timer-container svelte-17abf90")},m(l,o){y(l,e,o),w(e,t),w(t,u),d.m(u,null),w(e,s),f&&f.m(e,null),r||(i=j(t,"click",n[3]),r=!0)},p(l,[n]){c!==(c=a(l))&&(d.d(1),d=c(l),d&&(d.c(),d.m(u,null))),1&n&&o!==(o=l[0]?"Resume Game":"Pause Game")&&H(t,"title",o),l[1].displayTimer?f?f.p(l,n):(f=ye(l),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:l,o:l,d(l){l&&x(e),d.d(),f&&f.d(),r=!1,i()}}}function $e(l,n,e){let t,u,o;c(l,zn,l=>e(0,t=l)),c(l,Ln,l=>e(1,u=l)),c(l,Nn,l=>e(2,o=l));return[t,u,o,()=>t?Rn():Tn()]}class ke extends bl{constructor(l){super(),wl(this,l,$e,xe,s,{})}}const Ce=function(){const l=Al(!1);return{subscribe:l.subscribe,toggle(){l.update(l=>!l)}}}(),Me=Ol([Il,xn,zn],([l,n,e])=>null===l.x&&null===l.y||0!==n[l.y][l.x]||e,!1);function Se(n){let e,t,o,s,r,i,a,c,d,f,h,p,m,g,b,v,$,z,N,B,T,R,A,O,I,V,P,L,F,q,D,G,U,J,W,Y,Q,X,Z=n[8]?"ON":"OFF";return{c(){e=k("div"),t=k("button"),o=C("svg"),s=C("path"),r=S(),i=k("span"),a=M(n[2]),d=S(),f=k("button"),h=C("svg"),p=C("path"),g=S(),b=k("button"),v=C("svg"),$=C("path"),N=S(),B=k("button"),T=C("svg"),R=C("path"),A=S(),O=k("button"),I=C("svg"),V=C("path"),P=C("path"),F=S(),q=k("button"),D=C("svg"),G=C("path"),U=S(),J=k("span"),W=M(Z),H(s,"stroke-linecap","round"),H(s,"stroke-linejoin","round"),H(s,"stroke-width","2"),H(s,"d","M12.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0019 16V8a1 1 0 00-1.6-.8l-5.333 4zM4.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0011 16V8a1 1 0 00-1.6-.8l-5.334 4z"),H(o,"class","icon-outline"),H(o,"xmlns","http://www.w3.org/2000/svg"),H(o,"fill","none"),H(o,"viewBox","0 0 24 24"),H(o,"stroke","currentColor"),H(i,"class","badge svelte-1vdx5jr"),E(i,"badge-primary",n[3]),H(t,"class","btn btn-round btn-badge svelte-1vdx5jr"),t.disabled=c=!n[3]||n[5],H(t,"title","Backtrace"),H(p,"stroke-linecap","round"),H(p,"stroke-linejoin","round"),H(p,"stroke-width","2"),H(p,"d","M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"),H(h,"class","icon-outline"),H(h,"xmlns","http://www.w3.org/2000/svg"),H(h,"fill","none"),H(h,"viewBox","0 0 24 24"),H(h,"stroke","currentColor"),H(f,"class","btn btn-round"),f.disabled=m=!n[0]||n[5],H(f,"title","Undo"),H($,"stroke-linecap","round"),H($,"stroke-linejoin","round"),H($,"stroke-width","2"),H($,"d","M21 10h-10a8 8 90 00-8 8v2M21 10l-6 6m6-6l-6-6"),H(v,"class","icon-outline"),H(v,"xmlns","http://www.w3.org/2000/svg"),H(v,"fill","none"),H(v,"viewBox","0 0 24 24"),H(v,"stroke","currentColor"),H(b,"class","btn btn-round"),b.disabled=z=!n[1]||n[5],H(b,"title","Redo"),H(R,"stroke-linecap","round"),H(R,"stroke-linejoin","round"),H(R,"stroke-width","2"),H(R,"d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"),H(T,"class","icon-outline"),H(T,"xmlns","http://www.w3.org/2000/svg"),H(T,"fill","none"),H(T,"viewBox","0 0 24 24"),H(T,"stroke","currentColor"),H(B,"class","btn btn-round"),B.disabled=n[6],H(B,"title","Hints (Unlimited)"),H(V,"stroke-linecap","round"),H(V,"stroke-linejoin","round"),H(V,"stroke-width","2"),H(V,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),H(P,"stroke-linecap","round"),H(P,"stroke-linejoin","round"),H(P,"stroke-width","2"),H(P,"d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"),H(I,"class","icon-outline"),H(I,"xmlns","http://www.w3.org/2000/svg"),H(I,"fill","none"),H(I,"viewBox","0 0 24 24"),H(I,"stroke","currentColor"),H(O,"class","btn btn-round"),O.disabled=L=n[6]||null===n[4].x||null===n[4].y||0!==n[7][n[4].y][n[4].x],H(O,"title","Show Possible Candidates"),H(G,"stroke-linecap","round"),H(G,"stroke-linejoin","round"),H(G,"stroke-width","2"),H(G,"d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"),H(D,"class","icon-outline"),H(D,"xmlns","http://www.w3.org/2000/svg"),H(D,"fill","none"),H(D,"viewBox","0 0 24 24"),H(D,"stroke","currentColor"),H(J,"class","badge tracking-tighter svelte-1vdx5jr"),E(J,"badge-primary",n[8]),H(q,"class","btn btn-round btn-badge svelte-1vdx5jr"),H(q,"title",Y="Notes ("+(n[8]?"ON":"OFF")+")"),H(e,"class","action-buttons space-x-3 svelte-1vdx5jr")},m(l,u){y(l,e,u),w(e,t),w(t,o),w(o,s),w(t,r),w(t,i),w(i,a),w(e,d),w(e,f),w(f,h),w(h,p),w(e,g),w(e,b),w(b,v),w(v,$),w(e,N),w(e,B),w(B,T),w(T,R),w(e,A),w(e,O),w(O,I),w(I,V),w(I,P),w(e,F),w(e,q),w(q,D),w(D,G),w(q,U),w(q,J),w(J,W),Q||(X=[j(t,"click",Dn),j(f,"click",An),j(b,"click",On),j(B,"click",n[9]),j(O,"click",n[10]),j(q,"click",Ce.toggle)],Q=!0)},p(l,[n]){4&n&&_(a,l[2]),8&n&&E(i,"badge-primary",l[3]),40&n&&c!==(c=!l[3]||l[5])&&(t.disabled=c),33&n&&m!==(m=!l[0]||l[5])&&(f.disabled=m),34&n&&z!==(z=!l[1]||l[5])&&(b.disabled=z),64&n&&(B.disabled=l[6]),208&n&&L!==(L=l[6]||null===l[4].x||null===l[4].y||0!==l[7][l[4].y][l[4].x])&&(O.disabled=L),256&n&&Z!==(Z=l[8]?"ON":"OFF")&&_(W,Z),256&n&&E(J,"badge-primary",l[8]),256&n&&Y!==(Y="Notes ("+(l[8]?"ON":"OFF")+")")&&H(q,"title",Y)},i:l,o:l,d(l){l&&x(e),Q=!1,u(X)}}}function ze(l,n,e){let t,u,o,s,r,i,d,f,h,p,m;c(l,Il,l=>e(4,o=l)),c(l,Ul,l=>e(14,s=l)),c(l,Fn,l=>e(11,r=l)),c(l,Xl,l=>e(12,i=l)),c(l,Ql,l=>e(13,d=l)),c(l,zn,l=>e(5,f=l)),c(l,Me,l=>e(6,h=l)),c(l,kn,l=>e(7,p=l)),c(l,Ce,l=>e(8,m=l));let g=!1,w=!1;return l.$$.update=()=>{8192&l.$$.dirty&&e(0,g=d.length>0),4096&l.$$.dirty&&e(1,w=i.length>0),2048&l.$$.dirty&&e(3,t=r.length>0),2048&l.$$.dirty&&e(2,u=r.length)},[g,w,u,t,o,f,h,p,m,function(){a(xn);const l=a(kn),n=a(Cn);let e=!0,t=[];if(n)for(let u=0;u<l.length;u++)for(let o=0;o<l[u].length;o++)0!==l[u][o]&&l[u][o]!==n.getCellValue(u,o)&&(e=!1,t.push(o+","+u));else{const n=pn(new ln(l));if(n)for(let u=0;u<l.length;u++)for(let o=0;o<l[u].length;o++)0!==l[u][o]&&l[u][o]!==n.getCellValue(u,o)&&(e=!1,t.push(o+","+u));else e=!1}if(!e)return Mn.set(t),Pn.show("errormodal"),void Ul.set("");{Mn.set([]);const l=kn.applyHint();console.log("applyHint result:",l),l?("hint"===l.type&&l.chain?Ul.set(l.chain):"stored"===l.type?Ul.set("存储解答"):"brute"===l.type?Ul.set("暴力搜索"):"fallback"===l.type?Ul.set("回退解答"):Ul.set(""),console.log("lastHintStrategy set to:",s),Il.set(l.x,l.y)):(Ul.set(""),console.log("lastHintStrategy cleared"))}},function(){const l=a(kn);let n=!0,e=[];for(let t=0;t<l.length;t++){for(let u=0;u<l[t].length;u++)if(0!==l[t][u]){for(let o=0;o<9;o++)if(o!==u&&l[t][o]===l[t][u]){n=!1,e.push(u+","+t);break}if(!n)break;for(let o=0;o<9;o++)if(o!==t&&l[o][u]===l[t][u]){n=!1,e.push(u+","+t);break}if(!n)break;const o=3*Math.floor(t/3),s=3*Math.floor(u/3);for(let r=o;r<o+3;r++){for(let o=s;o<s+3;o++)if((r!==t||o!==u)&&l[r][o]===l[t][u]){n=!1,e.push(u+","+t);break}if(!n)break}if(!n)break}if(!n)break}if(!n)return Mn.set(e),void Pn.show("errormodal");{Mn.set([]),console.log("Cursor position:",o);const l=kn.showPossible({x:o.x,y:o.y});l?Yl.set({[`${l.x},${l.y}`]:l.candidates}):alert("无法获取候选值")}},r,i,d]}class je extends bl{constructor(l){super(),wl(this,l,ze,Se,s,{})}}function Ne(n){let e,t,u,o,s;return t=new ke({}),o=new je({}),{c(){e=k("div"),hl(t.$$.fragment),u=S(),hl(o.$$.fragment),H(e,"class","action-bar space-y-3 xs:space-y-0 svelte-16dc50t")},m(l,n){y(l,e,n),pl(t,e,null),w(e,u),pl(o,e,null),s=!0},p:l,i(l){s||(il(t.$$.fragment,l),il(o.$$.fragment,l),s=!0)},o(l){al(t.$$.fragment,l),al(o.$$.fragment,l),s=!1},d(l){l&&x(e),ml(t),ml(o)}}}class He extends bl{constructor(l){super(),wl(this,l,null,Ne,s,{})}}function _e(l,n,e){const t=l.slice();return t[8]=n[e],t[10]=e,t}function Be(l){let n,e,t,u,o,s=l[10]+1+"";function r(){return l[4](l[10])}return{c(){n=k("button"),e=M(s),t=S(),H(n,"class","btn btn-key svelte-vy4ayf"),n.disabled=l[0],H(n,"title","Insert "+(l[10]+1))},m(l,s){y(l,n,s),w(n,e),w(n,t),u||(o=j(n,"click",r),u=!0)},p(e,t){l=e,1&t&&(n.disabled=l[0])},d(l){l&&x(n),u=!1,o()}}}function Te(l){let n,e,t,u,o,s;return{c(){n=k("button"),e=C("svg"),t=C("path"),u=S(),H(t,"stroke-linecap","round"),H(t,"stroke-linejoin","round"),H(t,"stroke-width","2"),H(t,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),H(e,"class","icon-outline"),H(e,"xmlns","http://www.w3.org/2000/svg"),H(e,"fill","none"),H(e,"viewBox","0 0 24 24"),H(e,"stroke","currentColor"),H(n,"class","btn btn-key svelte-vy4ayf"),n.disabled=l[0],H(n,"title","Erase Field")},m(r,i){y(r,n,i),w(n,e),w(e,t),w(n,u),o||(s=j(n,"click",l[3]),o=!0)},p(l,e){1&e&&(n.disabled=l[0])},d(l){l&&x(n),o=!1,s()}}}function Re(l){let n;let e=function(l){return 9===l[10]?Te:Be}(l),t=e(l);return{c(){t.c(),n=z()},m(l,e){t.m(l,e),y(l,n,e)},p(l,n){t.p(l,n)},d(l){t.d(l),l&&x(n)}}}function Ee(n){let e,t,u,o=Array(10),s=[];for(let l=0;l<o.length;l+=1)s[l]=Re(_e(n,o,l));return{c(){e=k("div");for(let l=0;l<s.length;l+=1)s[l].c();H(e,"class","keyboard-grid svelte-vy4ayf")},m(l,o){y(l,e,o);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t||(u=j(window,"keydown",n[2]),t=!0)},p(l,[n]){if(3&n){let t;for(o=Array(10),t=0;t<o.length;t+=1){const u=_e(l,o,t);s[t]?s[t].p(u,n):(s[t]=Re(u),s[t].c(),s[t].m(e,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=o.length}},i:l,o:l,d(l){l&&x(e),$(s,l),t=!1,u()}}}function Ae(l,n,e){let t,u,o,s;function r(l){s||(En(t.x,t.y),o?(0===l?(Yl.clear(t),console.log("Cleared candidates at",t)):(Yl.add(t,l),console.log("用户输入",l,"在",t,"的候选项")),kn.set(t,0)):(u.hasOwnProperty(t.x+","+t.y)&&Yl.clear(t),kn.set(t,l),console.log("用户输入",l,"在",t,"的值")))}c(l,Il,l=>e(5,t=l)),c(l,Yl,l=>e(6,u=l)),c(l,Ce,l=>e(7,o=l)),c(l,Me,l=>e(0,s=l));return[s,r,function(l){switch(l.key||l.keyCode){case"ArrowUp":case 38:case"w":case 87:Il.move(0,-1);break;case"ArrowDown":case 40:case"s":case 83:Il.move(0,1);break;case"ArrowLeft":case 37:case"a":case 65:Il.move(-1);break;case"ArrowRight":case 39:case"d":case 68:Il.move(1);break;case"Backspace":case 8:case"Delete":case 46:r(0);break;default:l.key&&1*l.key>=0&&1*l.key<10?r(1*l.key):l.keyCode-48>=0&&l.keyCode-48<10&&r(l.keyCode-48)}},()=>r(0),l=>r(l+1)]}class Oe extends bl{constructor(l){super(),wl(this,l,Ae,Ee,s,{})}}function Ie(n){let e,t,u,o,s,r;return u=new He({}),s=new Oe({}),{c(){e=k("div"),t=k("div"),hl(u.$$.fragment),o=S(),hl(s.$$.fragment),H(t,"class","w-full max-w-xl"),H(e,"class","px-4 pb-5 flex justify-center")},m(l,n){y(l,e,n),w(e,t),pl(u,t,null),w(t,o),pl(s,t,null),r=!0},p:l,i(l){r||(il(u.$$.fragment,l),il(s.$$.fragment,l),r=!0)},o(l){al(u.$$.fragment,l),al(s.$$.fragment,l),r=!1},d(l){l&&x(e),ml(u),ml(s)}}}class Ve extends bl{constructor(l){super(),wl(this,l,null,Ie,s,{})}}function Pe(n){let e,t,o,s,r,i;return{c(){e=k("div"),t=k("button"),t.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>',o=S(),s=k("button"),s.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',H(t,"class","btn btn-header svelte-1omcin0"),H(t,"title","Share this Sudoku puzzle"),H(s,"class","btn btn-header svelte-1omcin0"),H(s,"title","Open Settings"),H(e,"class","flex justify-evenly space-x-3")},m(l,u){y(l,e,u),w(e,t),w(e,o),w(e,s),r||(i=[j(t,"click",n[0]),j(s,"click",n[1])],r=!0)},p:l,i:l,o:l,d(l){l&&x(e),r=!1,u(i)}}}function Le(l){return[function(){Tn(),Pn.show("share",{onHide:Rn})},function(){Tn(),Pn.show("settings",{onHide:Rn})}]}class Fe extends bl{constructor(l){super(),wl(this,l,Le,Pe,s,{})}}function qe(l,n,e){const t=l.slice();return t[8]=n[e][0],t[9]=n[e][1],t}function De(l){let n,e,t,o,s,r,i,a,c,d,f,h,p,m,g=Object.entries(yl),b=[];for(let n=0;n<g.length;n+=1)b[n]=Ge(qe(l,g,n));return{c(){n=k("button"),t=S(),o=k("div");for(let l=0;l<b.length;l+=1)b[l].c();s=S(),r=k("hr"),i=S(),a=k("a"),a.innerHTML='<svg class="icon-solid" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"></path></svg> \n\n\t\t\t\t<span class="align-middle">Create Own</span>',c=S(),d=k("a"),d.innerHTML='<svg class="icon-solid" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd"></path></svg> \n\n\t\t\t\t<span class="align-middle">Enter Code</span>',H(n,"class","dropdown-overlay svelte-a2cpnn"),H(n,"tabindex","-1"),H(r,"class","my-1"),H(a,"class","dropdown-item svelte-a2cpnn"),H(a,"href","/create"),H(a,"title","Create your own Sudoku puzzle"),H(d,"class","dropdown-item svelte-a2cpnn"),H(d,"href","/enter-code"),H(d,"title","Enter a Sudoku puzzle code from a friend"),H(o,"class","dropdown-menu svelte-a2cpnn")},m(e,u){y(e,n,u),y(e,t,u),y(e,o,u);for(let l=0;l<b.length;l+=1)b[l]&&b[l].m(o,null);w(o,s),w(o,r),w(o,i),w(o,a),w(o,c),w(o,d),h=!0,p||(m=[j(n,"click",l[6]),j(a,"click",N(l[3])),j(d,"click",N(l[4]))],p=!0)},p(n,e){if(l=n,4&e){let n;for(g=Object.entries(yl),n=0;n<g.length;n+=1){const t=qe(l,g,n);b[n]?b[n].p(t,e):(b[n]=Ge(t),b[n].c(),b[n].m(o,s))}for(;n<b.length;n+=1)b[n].d(1);b.length=g.length}},i(l){h||(Q(()=>{h&&(e||(e=dl(n,Xn,{duration:Hl},!0)),e.run(1))}),Q(()=>{h&&(f||(f=dl(o,Kn,{duration:Hl},!0)),f.run(1))}),h=!0)},o(l){e||(e=dl(n,Xn,{duration:Hl},!1)),e.run(0),f||(f=dl(o,Kn,{duration:Hl},!1)),f.run(0),h=!1},d(l){l&&x(n),l&&e&&e.end(),l&&x(t),l&&x(o),$(b,l),l&&f&&f.end(),p=!1,u(m)}}}function Ge(l){let n,e,t,u,o,s,r,i,a=l[9]+"";function c(){return l[7](l[8])}return{c(){n=k("a"),e=C("svg"),t=C("path"),u=S(),o=k("span"),s=M(a),H(t,"fill-rule","evenodd"),H(t,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),H(t,"clip-rule","evenodd"),H(e,"class","icon-solid"),H(e,"xmlns","http://www.w3.org/2000/svg"),H(e,"viewBox","0 0 20 20"),H(e,"fill","currentColor"),H(o,"class","align-middle"),H(n,"class","dropdown-item svelte-a2cpnn"),H(n,"href","/difficulty-"+l[8]),H(n,"title","Set difficulty to '"+l[9]+"'")},m(l,a){y(l,n,a),w(n,e),w(e,t),w(n,u),w(n,o),w(o,s),r||(i=j(n,"click",N(c)),r=!0)},p(n,e){l=n},d(l){l&&x(n),r=!1,i()}}}function Ue(l){let n,e,t,u,s,r,i,a,c,d,f,h,p=(l[1]===vl?"Custom":yl[l[1]])+"",m=l[0]&&De(l);return{c(){n=k("div"),e=k("button"),t=C("svg"),u=C("path"),s=S(),r=k("span"),i=M(p),c=S(),m&&m.c(),H(u,"stroke-linecap","round"),H(u,"stroke-linejoin","round"),H(u,"stroke-width","2"),H(u,"d","M4 8h16M4 16h12"),H(t,"class","icon-outline mr-3"),H(t,"xmlns","http://www.w3.org/2000/svg"),H(t,"fill","none"),H(t,"viewBox","0 0 24 24"),H(t,"stroke","currentColor"),H(r,"class","text-2xl tracking-wider"),H(e,"class","dropdown-button svelte-a2cpnn"),H(e,"title",a=(l[0]?"Close":"Open")+" Menu"),H(n,"class","dropdown svelte-a2cpnn")},m(a,p){y(a,n,p),w(n,e),w(e,t),w(t,u),w(e,s),w(e,r),w(r,i),w(n,c),m&&m.m(n,null),d=!0,f||(h=j(e,"click",function(){o(l[0]?l[6]:l[5])&&(l[0]?l[6]:l[5]).apply(this,arguments)}),f=!0)},p(t,[u]){l=t,(!d||2&u)&&p!==(p=(l[1]===vl?"Custom":yl[l[1]])+"")&&_(i,p),(!d||1&u&&a!==(a=(l[0]?"Close":"Open")+" Menu"))&&H(e,"title",a),l[0]?m?(m.p(l,u),1&u&&il(m,1)):(m=De(l),m.c(),il(m,1),m.m(n,null)):m&&(sl(),al(m,1,1,()=>{m=null}),rl())},i(l){d||(il(m),d=!0)},o(l){al(m),d=!1},d(l){l&&x(n),m&&m.d(),f=!1,h()}}}function Je(l,n,e){let t;c(l,Vl,l=>e(1,t=l));let u=!1;function o(l){e(0,u=!1),In.pause(),Pn.show("confirm",{title:"New Game",text:'Start new game with difficulty "'+yl[l]+'"?',button:"Continue",onHide:In.resume,callback:()=>{In.startNew(l)}})}return[u,t,o,function(){e(0,u=!1),In.pause(),Pn.show("confirm",{title:"Create Own",text:"Switch to the creator mode to create your own Sudoku puzzle?",button:"Continue",onHide:In.resume,callback:()=>{}})},function(){e(0,u=!1),In.pause(),Pn.show("prompt",{title:"Enter Code",text:"Please enter the code of the Sudoku puzzle you want to play:",fontMono:!0,button:"Start",onHide:In.resume,callback:l=>{In.startCustom(l)},validate:Rl})},function(){e(0,u=!0),In.pause()},function(){e(0,u=!1),setTimeout(In.resume,Hl)},l=>o(l)]}class We extends bl{constructor(l){super(),wl(this,l,Je,Ue,s,{})}}function Ye(n){let e,t,u,o,s,r,i;return o=new We({}),r=new Fe({}),{c(){e=k("div"),t=k("div"),u=k("nav"),hl(o.$$.fragment),s=S(),hl(r.$$.fragment),H(u,"class","flex flex-wrap items-center justify-between"),H(t,"class","w-full max-w-xl"),H(e,"class","px-4 py-4 flex justify-center text-white")},m(l,n){y(l,e,n),w(e,t),w(t,u),pl(o,u,null),w(u,s),pl(r,u,null),i=!0},p:l,i(l){i||(il(o.$$.fragment,l),il(r.$$.fragment,l),i=!0)},o(l){al(o.$$.fragment,l),al(r.$$.fragment,l),i=!1},d(l){l&&x(e),ml(o),ml(r)}}}class Qe extends bl{constructor(l){super(),wl(this,l,null,Ye,s,{})}}function Xe(n){let e;return{c(){e=k("textarea"),e.readOnly="readonly",T(e,"position","absolute"),T(e,"left","-9999px")},m(l,t){y(l,e,t),n[2](e)},p:l,i:l,o:l,d(l){l&&x(e),n[2](null)}}}function Ze(l,n,e){let t;return[t,function(l){if(navigator.clipboard)return navigator.clipboard.writeText(l);e(0,t.value=l,t);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select();let u=!1;try{u=document.execCommand("copy")}catch(l){}return n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),u?Promise.resolve():Promise.reject()},function(l){G[l?"unshift":"push"](()=>{t=l,e(0,t)})}]}class Ke extends bl{constructor(l){super(),wl(this,l,Ze,Xe,s,{copyText:1})}get copyText(){return this.$$.ctx[1]}}function lt(l){let n,e,t,s,r,i,a,c,d,f,h,p,m,g,b,v,$,M,z,_,B,T,R,E,A,O,I,V,P,L,F,q,D,U,J,W,Y,Q,Z,K,ll,nl,el,tl;function ul(n){l[11](n)}let ol={};return void 0!==l[2]&&(ol.copyText=l[2]),K=new Ke({props:ol}),G.push(()=>fl(K,"copyText",ul)),{c(){n=k("div"),e=k("h1"),e.textContent="Share Sudoku",t=S(),s=k("div"),s.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',r=S(),i=k("div"),a=k("input"),c=S(),d=k("button"),d.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>',f=S(),h=k("hr"),p=S(),m=k("div"),g=k("a"),b=C("svg"),v=C("path"),$=S(),M=k("span"),M.textContent="Copy Link",z=S(),_=k("a"),B=C("svg"),T=C("path"),R=S(),E=k("span"),E.textContent="Share on Twitter",A=S(),O=k("a"),I=C("svg"),V=C("path"),P=S(),L=k("span"),L.textContent="Share on Facebook",F=S(),q=k("a"),D=C("svg"),U=C("path"),J=S(),W=k("span"),W.textContent="Share by Email",Y=S(),Q=k("button"),Q.innerHTML='<svg class="icon-outline mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg> \n\n\t\t<span>Share QR Code</span>',Z=S(),hl(K.$$.fragment),H(e,"class","text-3xl font-semibold leading-none"),H(s,"class","cursor-pointer"),H(n,"class","flex justify-between items-center mb-6"),H(a,"class","input code-field svelte-1feawfh"),H(a,"type","text"),a.readOnly=!0,a.value=l[3],H(d,"class","btn btn-copy svelte-1feawfh"),H(i,"class","code-container svelte-1feawfh"),H(h,"class","my-8"),H(v,"stroke-linecap","round"),H(v,"stroke-linejoin","round"),H(v,"stroke-width","2"),H(v,"d","M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"),H(b,"class","icon-outline mr-2"),H(b,"xmlns","http://www.w3.org/2000/svg"),H(b,"fill","none"),H(b,"viewBox","0 0 24 24"),H(b,"stroke","currentColor"),H(g,"href",l[4]),H(g,"class","btn btn-small"),H(T,"d","M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"),H(B,"class","icon-outline mr-2"),H(B,"xmlns","http://www.w3.org/2000/svg"),H(B,"fill","currentColor"),H(B,"viewBox","0 0 24 24"),H(B,"stroke","none"),H(_,"href",l[7]),H(_,"target","_blank"),H(_,"class","btn btn-share btn-share-twitter btn-small svelte-1feawfh"),H(V,"d","M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"),H(I,"class","icon-outline mr-2"),H(I,"xmlns","http://www.w3.org/2000/svg"),H(I,"fill","currentColor"),H(I,"viewBox","0 0 24 24"),H(I,"stroke","none"),H(O,"href",l[6]),H(O,"target","_blank"),H(O,"class","btn btn-share btn-share-facebook btn-small svelte-1feawfh"),H(U,"stroke-linecap","round"),H(U,"stroke-linejoin","round"),H(U,"stroke-width","2"),H(U,"d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"),H(D,"class","icon-outline mr-2"),H(D,"xmlns","http://www.w3.org/2000/svg"),H(D,"fill","none"),H(D,"viewBox","0 0 24 24"),H(D,"stroke","currentColor"),H(q,"href",l[8]),H(q,"target","_blank"),H(q,"class","btn btn-small"),H(Q,"class","btn btn-small"),H(m,"class","flex flex-col space-y-2")},m(u,x){y(u,n,x),w(n,e),w(n,t),w(n,s),y(u,r,x),y(u,i,x),w(i,a),w(i,c),w(i,d),y(u,f,x),y(u,h,x),y(u,p,x),y(u,m,x),w(m,g),w(g,b),w(b,v),w(g,$),w(g,M),w(m,z),w(m,_),w(_,B),w(B,T),w(_,R),w(_,E),w(m,A),w(m,O),w(O,I),w(I,V),w(O,P),w(O,L),w(m,F),w(m,q),w(q,D),w(D,U),w(q,J),w(q,W),w(m,Y),w(m,Q),y(u,Z,x),pl(K,u,x),nl=!0,el||(tl=[j(s,"click",function(){o(l[1])&&l[1].apply(this,arguments)}),j(a,"click",l[9]),j(d,"click",function(){o(l[2](l[3]))&&l[2](l[3]).apply(this,arguments)}),j(g,"click",N(function(){o(l[2](l[4]))&&l[2](l[4]).apply(this,arguments)})),j(Q,"click",l[10])],el=!0)},p(n,[e]){l=n;const t={};!ll&&4&e&&(ll=!0,t.copyText=l[2],X(()=>ll=!1)),K.$set(t)},i(l){nl||(il(K.$$.fragment,l),nl=!0)},o(l){al(K.$$.fragment,l),nl=!1},d(l){l&&x(n),l&&x(r),l&&x(i),l&&x(f),l&&x(h),l&&x(p),l&&x(m),l&&x(Z),ml(K,l),el=!1,u(tl)}}}function nt(l,n,e){let t;c(l,xn,l=>e(12,t=l));let{data:u={}}=n,{hideModal:o}=n;const s=xn.getSencode(t),r="https://sudoku.jonasgeiler.com/#"+s,i=encodeURIComponent(r),a="https://www.facebook.com/sharer/sharer.php?u="+i,d="https://twitter.com/intent/tweet?text=Check%20out%20this%20Sudoku%20puzzle!&url="+i,f="mailto:?subject=A%20Sudoku%20puzzle%20for%20you&body=Here%27s%20a%20link%20to%20a%20Sudoku%20puzzle%20on%20sudoku.jonasgeiler.com%3A%0A%0A"+i;let h;q(()=>{let l=!1;const n={url:r,title:"Sudoku",text:"Create & play Sudoku puzzles for free online on sudoku.jonasgeiler.com!"};"share"in navigator&&(l=!0),"canShare"in navigator&&(l=navigator.canShare(n)),l&&navigator.share(n)});return l.$$set=l=>{"data"in l&&e(0,u=l.data),"hideModal"in l&&e(1,o=l.hideModal)},[u,o,h,s,r,i,a,d,f,l=>function(l){l.select(),l.setSelectionRange(0,l.value.length)}(l.target),()=>Pn.show("qrcode",{...u,encodedLink:i}),function(l){h=l,e(2,h)}]}function et(n){let e,t,u,o,s,i,a;return{c(){var l,i;e=k("img"),u=S(),o=k("div"),s=k("button"),s.innerHTML='<svg class="icon-outline mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> \n\n\t\t<span>Back</span>',H(e,"class","h-full w-full"),l=e.src,i=t=n[1],r||(r=document.createElement("a")),r.href=i,l!==r.href&&H(e,"src",t),H(e,"alt","QR Code for sharing the Sudoku puzzle"),H(s,"class","btn btn-small w-full"),H(o,"class","mt-3")},m(l,t){y(l,e,t),y(l,u,t),y(l,o,t),w(o,s),i||(a=j(s,"click",n[2]),i=!0)},p:l,i:l,o:l,d(l){l&&x(e),l&&x(u),l&&x(o),i=!1,a()}}}function tt(l,n,e){let{data:t={}}=n;const u="https://api.qrserver.com/v1/create-qr-code/?size=500x500&charset-source=UTF-8&charset-target=UTF-8&ecc=L&color=000&bgcolor=f7f9fc&margin=8&qzone=0&format=png&data="+t.encodedLink;return l.$$set=l=>{"data"in l&&e(0,t=l.data)},[t,u,()=>Pn.show("share",t)]}function ut(n){let e,t,u,o,s,r,i,a,c,d,f,h;return{c(){e=k("label"),t=k("span"),u=M(n[2]),o=S(),s=k("span"),r=k("input"),i=S(),a=k("span"),c=S(),d=k("span"),H(t,"class","flex-grow cursor-pointer text-lg"),H(r,"id",n[1]),H(r,"name",n[1]),H(r,"type","checkbox"),H(r,"class","sr-only svelte-ljh5gf"),r.disabled=n[3],H(a,"class","track svelte-ljh5gf"),H(d,"class","thumb svelte-ljh5gf"),H(s,"class","switch svelte-ljh5gf"),H(e,"for",n[1]),H(e,"class","inline-flex items-center")},m(l,p){y(l,e,p),w(e,t),w(t,u),w(e,o),w(e,s),w(s,r),r.checked=n[0],w(s,i),w(s,a),w(s,c),w(s,d),f||(h=j(r,"change",n[4]),f=!0)},p(l,[n]){4&n&&_(u,l[2]),2&n&&H(r,"id",l[1]),2&n&&H(r,"name",l[1]),8&n&&(r.disabled=l[3]),1&n&&(r.checked=l[0]),2&n&&H(e,"for",l[1])},i:l,o:l,d(l){l&&x(e),f=!1,h()}}}function ot(l,n,e){let{id:t=""}=n,{text:u=""}=n,{checked:o=!1}=n,{disabled:s=!1}=n;return l.$$set=l=>{"id"in l&&e(1,t=l.id),"text"in l&&e(2,u=l.text),"checked"in l&&e(0,o=l.checked),"disabled"in l&&e(3,s=l.disabled)},[o,t,u,s,function(){o=this.checked,e(0,o)}]}class st extends bl{constructor(l){super(),wl(this,l,ot,ut,s,{id:1,text:2,checked:0,disabled:3})}}function rt(l){let n,e,t,s,r,i,a,c,d,f,h,p,m,g,b,v,$,C,M,z,N,_;function B(n){l[3](n)}let T={text:"Display timer while playing",id:"display-timer"};function R(n){l[4](n)}void 0!==l[1].displayTimer&&(T.checked=l[1].displayTimer),s=new st({props:T}),G.push(()=>fl(s,"checked",B));let E={text:"Highlight cells in same row/column/box",id:"highlight-cells"};function A(n){l[5](n)}void 0!==l[1].highlightCells&&(E.checked=l[1].highlightCells),a=new st({props:E}),G.push(()=>fl(a,"checked",R));let O={text:"Highlight cells with the same number",id:"highlight-matching"};function I(n){l[6](n)}void 0!==l[1].highlightSame&&(O.checked=l[1].highlightSame),f=new st({props:O}),G.push(()=>fl(f,"checked",A));let V={text:"Highlight conflicting numbers",id:"highlight-conflicting"};return void 0!==l[1].highlightConflicting&&(V.checked=l[1].highlightConflicting),m=new st({props:V}),G.push(()=>fl(m,"checked",I)),{c(){n=k("h1"),n.textContent="Settings",e=S(),t=k("div"),hl(s.$$.fragment),i=S(),hl(a.$$.fragment),d=S(),hl(f.$$.fragment),p=S(),hl(m.$$.fragment),b=S(),v=k("div"),$=k("button"),$.textContent="Cancel",C=S(),M=k("button"),M.textContent="Save",H(n,"class","text-3xl font-semibold mb-6 leading-none"),H(t,"class","flex flex-col mb-6 space-y-3"),H($,"class","btn btn-small mr-3"),H(M,"class","btn btn-small btn-primary"),H(v,"class","flex justify-end")},m(u,r){y(u,n,r),y(u,e,r),y(u,t,r),pl(s,t,null),w(t,i),pl(a,t,null),w(t,d),pl(f,t,null),w(t,p),pl(m,t,null),y(u,b,r),y(u,v,r),w(v,$),w(v,C),w(v,M),z=!0,N||(_=[j($,"click",function(){o(l[0])&&l[0].apply(this,arguments)}),j(M,"click",l[2])],N=!0)},p(n,[e]){l=n;const t={};!r&&2&e&&(r=!0,t.checked=l[1].displayTimer,X(()=>r=!1)),s.$set(t);const u={};!c&&2&e&&(c=!0,u.checked=l[1].highlightCells,X(()=>c=!1)),a.$set(u);const o={};!h&&2&e&&(h=!0,o.checked=l[1].highlightSame,X(()=>h=!1)),f.$set(o);const i={};!g&&2&e&&(g=!0,i.checked=l[1].highlightConflicting,X(()=>g=!1)),m.$set(i)},i(l){z||(il(s.$$.fragment,l),il(a.$$.fragment,l),il(f.$$.fragment,l),il(m.$$.fragment,l),z=!0)},o(l){al(s.$$.fragment,l),al(a.$$.fragment,l),al(f.$$.fragment,l),al(m.$$.fragment,l),z=!1},d(l){l&&x(n),l&&x(e),l&&x(t),ml(s),ml(a),ml(f),ml(m),l&&x(b),l&&x(v),N=!1,u(_)}}}function it(l,n,e){let t;c(l,Ln,l=>e(7,t=l));let{hideModal:u}=n,o={...t};return l.$$set=l=>{"hideModal"in l&&e(0,u=l.hideModal)},[u,o,function(){Ln.set(o),u()},function(n){l.$$.not_equal(o.displayTimer,n)&&(o.displayTimer=n,e(1,o))},function(n){l.$$.not_equal(o.highlightCells,n)&&(o.highlightCells=n,e(1,o))},function(n){l.$$.not_equal(o.highlightSame,n)&&(o.highlightSame=n,e(1,o))},function(n){l.$$.not_equal(o.highlightConflicting,n)&&(o.highlightConflicting=n,e(1,o))}]}function at(l){let n,e,t=l[0].text+"";return{c(){n=k("p"),e=M(t),H(n,"class","text-lg mb-5")},m(l,t){y(l,n,t),w(n,e)},p(l,n){1&n&&t!==(t=l[0].text+"")&&_(e,t)},d(l){l&&x(n)}}}function ct(n){let e,t,s,r,i,a,c,d,f,h,p,m=(n[0].title||"Confirm")+"",g=(n[0].button||"Okay")+"",b=n[0].text&&at(n);return{c(){e=k("h1"),t=M(m),s=S(),b&&b.c(),r=S(),i=k("div"),a=k("button"),a.textContent="Cancel",c=S(),d=k("button"),f=M(g),H(e,"class","text-3xl font-semibold mb-5 leading-none"),H(a,"class","btn btn-small mr-3"),H(d,"class","btn btn-small btn-primary"),H(i,"class","flex justify-end")},m(l,u){y(l,e,u),w(e,t),y(l,s,u),b&&b.m(l,u),y(l,r,u),y(l,i,u),w(i,a),w(i,c),w(i,d),w(d,f),h||(p=[j(a,"click",function(){o(n[1])&&n[1].apply(this,arguments)}),j(d,"click",n[2])],h=!0)},p(l,[e]){n=l,1&e&&m!==(m=(n[0].title||"Confirm")+"")&&_(t,m),n[0].text?b?b.p(n,e):(b=at(n),b.c(),b.m(r.parentNode,r)):b&&(b.d(1),b=null),1&e&&g!==(g=(n[0].button||"Okay")+"")&&_(f,g)},i:l,o:l,d(l){l&&x(e),l&&x(s),b&&b.d(l),l&&x(r),l&&x(i),h=!1,u(p)}}}function dt(l,n,e){let{data:t={}}=n,{hideModal:u}=n;return l.$$set=l=>{"data"in l&&e(0,t=l.data),"hideModal"in l&&e(1,u=l.hideModal)},[t,u,function(){t.callback&&t.callback(),u()}]}function ft(l){let n,e,t=l[0].text+"";return{c(){n=k("label"),e=M(t),H(n,"for","prompt-input"),H(n,"class","text-lg mb-4")},m(l,t){y(l,n,t),w(n,e)},p(l,n){1&n&&t!==(t=l[0].text+"")&&_(e,t)},d(l){l&&x(n)}}}function ht(n){let e,t,s,r,i,a,c,d,f,h,p,m,g,b,v=(n[0].title||"Please enter something")+"",$=(n[0].button||"Okay")+"",C=n[0].text&&ft(n);return{c(){e=k("h1"),t=M(v),s=S(),C&&C.c(),r=S(),i=k("input"),a=S(),c=k("div"),d=k("button"),d.textContent="Cancel",f=S(),h=k("button"),p=M($),H(e,"class","text-3xl font-semibold mb-5 leading-none"),H(i,"class","input mb-5"),H(i,"id","prompt-input"),H(i,"name","prompt-input"),H(i,"type","text"),E(i,"font-mono",n[0].fontMono),H(d,"class","btn btn-small mr-3"),H(h,"class","btn btn-small btn-primary"),h.disabled=m=!!n[0].validate&&!n[0].validate(n[2]),H(c,"class","flex justify-end")},m(l,u){y(l,e,u),w(e,t),y(l,s,u),C&&C.m(l,u),y(l,r,u),y(l,i,u),B(i,n[2]),y(l,a,u),y(l,c,u),w(c,d),w(c,f),w(c,h),w(h,p),g||(b=[j(i,"input",n[4]),j(d,"click",function(){o(n[1])&&n[1].apply(this,arguments)}),j(h,"click",n[3])],g=!0)},p(l,[e]){n=l,1&e&&v!==(v=(n[0].title||"Please enter something")+"")&&_(t,v),n[0].text?C?C.p(n,e):(C=ft(n),C.c(),C.m(r.parentNode,r)):C&&(C.d(1),C=null),4&e&&i.value!==n[2]&&B(i,n[2]),1&e&&E(i,"font-mono",n[0].fontMono),1&e&&$!==($=(n[0].button||"Okay")+"")&&_(p,$),5&e&&m!==(m=!!n[0].validate&&!n[0].validate(n[2]))&&(h.disabled=m)},i:l,o:l,d(l){l&&x(e),l&&x(s),C&&C.d(l),l&&x(r),l&&x(i),l&&x(a),l&&x(c),g=!1,u(b)}}}function pt(l,n,e){let{data:t={}}=n,{hideModal:u}=n,o="";return l.$$set=l=>{"data"in l&&e(0,t=l.data),"hideModal"in l&&e(1,u=l.hideModal)},[t,u,o,function(){t.callback&&t.callback(o),u()},function(){o=this.value,e(2,o)}]}function mt(l,n,e){const t=l.slice();return t[16]=n[e][0],t[17]=n[e][1],t}function gt(l){let n;return{c(){n=k("div"),n.innerHTML="Someone shared a Sudoku puzzle with you!<br/>Just click start if you want to play it",H(n,"class","p-3 text-lg rounded bg-primary bg-opacity-25 border-l-8 border-primary border-opacity-75 mb-4")},m(l,e){y(l,n,e)},d(l){l&&x(n)}}}function wt(n){let e,t,u=n[17]+"";return{c(){e=k("option"),t=M(u),e.__value=n[16],e.value=e.__value},m(l,n){y(l,e,n),w(e,t)},p:l,d(l){l&&x(e)}}}function bt(l){let n;function e(l,n){return l[7]?xt:l[4]?yt:vt}let t=e(l),u=t(l);return{c(){u.c(),n=z()},m(l,e){u.m(l,e),y(l,n,e)},p(l,o){t!==(t=e(l))&&(u.d(1),u=t(l),u&&(u.c(),u.m(n.parentNode,n)))},d(l){u.d(l),l&&x(n)}}}function vt(l){let n;return{c(){n=k("p"),n.textContent="无法解析该页面上的数独。",H(n,"class","text-red-600 text-sm mt-1")},m(l,e){y(l,n,e)},d(l){l&&x(n)}}}function yt(l){let n;return{c(){n=k("p"),n.textContent="已解析数独，可开始游戏！",H(n,"class","text-green-600 text-sm mt-1")},m(l,e){y(l,n,e)},d(l){l&&x(n)}}}function xt(l){let n;return{c(){n=k("p"),n.textContent="正在加载数独...",H(n,"class","text-sm text-gray-500 mt-1")},m(l,e){y(l,n,e)},d(l){l&&x(n)}}}function $t(n){let e,t,o,s,r,i,a,c,d,f,h,p,m,g,b,v,C,z,N,_,T,E,A,O,I,V,P=n[0].sencode&&gt(),L=Object.entries(yl),F=[];for(let l=0;l<L.length;l+=1)F[l]=wt(mt(n,L,l));let q=n[5]&&bt(n);return{c(){e=k("h1"),e.textContent="Welcome!",t=S(),P&&P.c(),o=S(),s=k("label"),s.textContent="To start a game, choose a difficulty:",r=S(),i=k("div"),a=k("select");for(let l=0;l<F.length;l+=1)F[l].c();c=S(),d=k("div"),d.innerHTML='<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>',f=S(),h=k("label"),h.textContent="Or, if you have a code for a custom Sudoku puzzle, enter it here:",p=S(),m=k("input"),g=S(),b=k("a"),b.textContent="https://www.sudokuwiki.org/Daily_Sudoku",v=S(),C=k("div"),C.textContent="支持直接粘贴该网址开头的链接，会自动提取数独编码",z=S(),N=k("input"),_=S(),q&&q.c(),T=S(),E=k("div"),A=k("button"),O=M("Start"),H(e,"class","text-3xl font-semibold mb-6 leading-none"),H(s,"for","difficulty"),H(s,"class","text-lg mb-3"),H(a,"id","difficulty"),H(a,"class","btn btn-small w-full appearance-none leading-normal"),a.disabled=n[6],void 0===n[1]&&Q(()=>n[11].call(a)),H(d,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"),H(i,"class","inline-block relative mb-6"),H(h,"for","sencode"),H(h,"class","text-lg mb-3"),H(m,"id","sencode"),H(m,"class","input font-mono mb-5"),H(m,"type","text"),H(b,"href","https://www.sudokuwiki.org/Daily_Sudoku"),H(b,"target","_blank"),H(b,"rel","noopener noreferrer"),H(b,"class","text-blue-600 underline text-lg mb-1 inline-block"),H(C,"class","text-sm text-gray-500 mb-2"),H(N,"id","wikiurl"),H(N,"class","input font-mono mb-4"),H(N,"type","url"),H(N,"placeholder","粘贴 https://www.sudokuwiki.org/Daily_Sudoku/..."),H(A,"class","btn btn-small btn-primary"),A.disabled=n[8],H(E,"class","flex justify-end")},m(l,u){y(l,e,u),y(l,t,u),P&&P.m(l,u),y(l,o,u),y(l,s,u),y(l,r,u),y(l,i,u),w(i,a);for(let l=0;l<F.length;l+=1)F[l]&&F[l].m(a,null);R(a,n[1],!0),w(i,c),w(i,d),y(l,f,u),y(l,h,u),y(l,p,u),y(l,m,u),B(m,n[2]),y(l,g,u),y(l,b,u),y(l,v,u),y(l,C,u),y(l,z,u),y(l,N,u),B(N,n[3]),y(l,_,u),q&&q.m(l,u),y(l,T,u),y(l,E,u),w(E,A),w(A,O),I||(V=[j(a,"change",n[11]),j(m,"input",n[12]),j(N,"input",n[13]),j(A,"click",n[9])],I=!0)},p(l,[n]){if(l[0].sencode?P||(P=gt(),P.c(),P.m(o.parentNode,o)):P&&(P.d(1),P=null),0&n){let e;for(L=Object.entries(yl),e=0;e<L.length;e+=1){const t=mt(l,L,e);F[e]?F[e].p(t,n):(F[e]=wt(t),F[e].c(),F[e].m(a,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=L.length}64&n&&(a.disabled=l[6]),2&n&&R(a,l[1]),4&n&&m.value!==l[2]&&B(m,l[2]),8&n&&N.value!==l[3]&&B(N,l[3]),l[5]?q?q.p(l,n):(q=bt(l),q.c(),q.m(T.parentNode,T)):q&&(q.d(1),q=null),256&n&&(A.disabled=l[8])},i:l,o:l,d(l){l&&x(e),l&&x(t),P&&P.d(l),l&&x(o),l&&x(s),l&&x(r),l&&x(i),$(F,l),l&&x(f),l&&x(h),l&&x(p),l&&x(m),l&&x(g),l&&x(b),l&&x(v),l&&x(C),l&&x(z),l&&x(N),l&&x(_),q&&q.d(l),l&&x(T),l&&x(E),I=!1,u(V)}}}function kt(l,n,e){let t,u,o,s;c(l,Vl,l=>e(14,s=l));let{data:r={}}=n,{hideModal:i}=n,a=s,d=r.sencode||"",f="",h="",p=!1;return l.$$set=l=>{"data"in l&&e(0,r=l.data),"hideModal"in l&&e(10,i=l.hideModal)},l.$$.update=()=>{4&l.$$.dirty&&e(6,t=0!==d.trim().length),8&l.$$.dirty&&e(5,u=f.trim().startsWith("https://www.sudokuwiki.org/Daily_Sudoku")),118&l.$$.dirty&&e(8,o=t?!Rl(d):u?!h:!yl.hasOwnProperty(a)),40&l.$$.dirty&&u&&async function(l){e(7,p=!0),e(4,h="");try{const n=await fetch(`http://localhost:3001/api/sudoku?url=${encodeURIComponent(l)}`);if(!n.ok)throw new Error("Failed to fetch");const t=await n.json();if(t&&t.puzzle){const l=t.puzzle;if(81===l.length){const n=[];for(let e=0;e<9;e++){const t=l.slice(9*e,9*e+9).split("").map(l=>Number(l));n.push(t)}const t=Tl(n);Rl(t)?e(4,h=t):console.error("转换后的 sencode 无效")}else console.error("puzzle 长度不对")}}catch(l){console.error(l)}finally{e(7,p=!1)}}(f)},[r,a,d,f,h,u,t,p,o,function(){Rl(d)?Bn(d):h?Bn(h):_n(a),i()},i,function(){a=function(l){const n=l.querySelector(":checked");return n&&n.__value}(this),e(1,a)},function(){d=this.value,e(2,d)},function(){f=this.value,e(3,f)}]}function Ct(n){let e,t,o,s,r,i,a,c,d,f,h,p,m,g,b,v,$,z,N,B,T,R,E,A,O,I,V,P,L,F,q,D,G,U,J,W,Y,Q,X,Z=(n[1]===vl?"Custom":yl[n[1]])+"";return{c(){e=k("div"),t=C("svg"),o=C("path"),s=S(),r=k("h1"),r.textContent=`${n[3]}`,i=S(),a=k("div"),c=k("div"),d=k("div"),d.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',f=S(),h=k("div"),p=k("div"),p.textContent="Time:",m=S(),g=k("div"),b=M(n[0]),v=S(),$=k("div"),z=k("div"),z.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>',N=S(),B=k("div"),T=k("div"),T.textContent="Difficulty:",R=S(),E=k("div"),A=M(Z),O=S(),I=k("div"),V=k("div"),V.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>',P=S(),L=k("div"),F=k("div"),F.textContent="Hints used:",q=S(),D=k("div"),G=M(n[2]),U=S(),J=k("button"),J.textContent="Share this Sudoku puzzle",W=S(),Y=k("button"),Y.textContent="New Game",H(o,"d","M1 6.417c0-1.013.822-1.833 1.834-1.833 1.215 0 2.104 1.167 1.763 2.329-.559 1.915 5.827 3.731 6.771-1.471.239-1.323-.021-1.67-.668-2.321-.329-.329-.534-.783-.534-1.287 0-1.013.822-1.834 1.834-1.834 1.014 0 1.833.821 1.833 1.833 0 .504-.204.958-.533 1.287-.646.65-.905.998-.666 2.321.941 5.2 7.33 3.387 6.77 1.471-.339-1.162.548-2.329 1.764-2.329 1.012 0 1.832.821 1.832 1.834 0 1.118-.992 1.97-2.084 1.816-1.32-.187-3.03 4.554-3.417 6.716-1.765-.615-3.618-.942-5.493-.949-1.875.006-3.74.334-5.504.949-.388-2.162-2.098-6.903-3.418-6.717-1.092.155-2.084-.697-2.084-1.815zm-1 14.583h2.359l.566 3c.613-1.012 1.388-1.912 2.277-2.68l-2.342-3.335c-1.089.879-2.053 1.848-2.86 3.015zm24 0h-2.359l-.566 3c-.613-1.012-1.388-1.912-2.277-2.68l2.343-3.335c1.088.879 2.052 1.848 2.859 3.015zm-12-4.998c-2.845.009-5.491.825-7.757 2.211l2.334 3.322c1.603-.924 3.448-1.464 5.423-1.473 1.975.009 3.82.549 5.423 1.473l2.334-3.322c-2.266-1.386-4.912-2.202-7.757-2.211zm-3.022 3.498l-.65-.348-.651.348.131-.726-.531-.511.729-.101.321-.662.322.663.729.101-.53.511.13.725zm3.672-.5l-.65-.348-.65.348.131-.726-.531-.511.729-.101.321-.662.322.663.729.101-.53.511.129.725zm3.718.5l-.65-.348-.65.348.131-.726-.531-.511.729-.101.322-.663.322.663.729.101-.53.511.128.726z"),H(t,"class","h-32 w-32 fill-current"),H(t,"xmlns","http://www.w3.org/2000/svg"),H(t,"viewBox","0 0 24 24"),H(r,"class","text-4xl font-semibold"),H(e,"class","flex flex-col text-center items-center"),H(d,"class","item-icon svelte-1yhhj2a"),H(p,"class","item-data-label svelte-1yhhj2a"),H(g,"class","item-data-value svelte-1yhhj2a"),H(h,"class","item-data svelte-1yhhj2a"),H(c,"class","game-data-item svelte-1yhhj2a"),H(z,"class","item-icon svelte-1yhhj2a"),H(T,"class","item-data-label svelte-1yhhj2a"),H(E,"class","item-data-value svelte-1yhhj2a"),H(B,"class","item-data svelte-1yhhj2a"),H($,"class","game-data-item svelte-1yhhj2a"),H(V,"class","item-icon svelte-1yhhj2a"),H(F,"class","item-data-label svelte-1yhhj2a"),H(D,"class","item-data-value svelte-1yhhj2a"),H(L,"class","item-data svelte-1yhhj2a"),H(I,"class","game-data-item svelte-1yhhj2a"),H(a,"class","game-data space-y-2 svelte-1yhhj2a"),H(J,"class","btn btn-small w-full mb-2"),H(Y,"class","btn btn-small btn-primary w-full")},m(l,u){y(l,e,u),w(e,t),w(t,o),w(e,s),w(e,r),y(l,i,u),y(l,a,u),w(a,c),w(c,d),w(c,f),w(c,h),w(h,p),w(h,m),w(h,g),w(g,b),w(a,v),w(a,$),w($,z),w($,N),w($,B),w(B,T),w(B,R),w(B,E),w(E,A),w(a,O),w(a,I),w(I,V),w(I,P),w(I,L),w(L,F),w(L,q),w(L,D),w(D,G),y(l,U,u),y(l,J,u),y(l,W,u),y(l,Y,u),Q||(X=[j(J,"click",n[4]),j(Y,"click",n[5])],Q=!0)},p(l,[n]){1&n&&_(b,l[0]),2&n&&Z!==(Z=(l[1]===vl?"Custom":yl[l[1]])+"")&&_(A,Z),4&n&&_(G,l[2])},i:l,o:l,d(l){l&&x(e),l&&x(i),l&&x(a),l&&x(U),l&&x(J),l&&x(W),l&&x(Y),Q=!1,u(X)}}}function Mt(l,n,e){let t,u,o;c(l,Nn,l=>e(0,t=l)),c(l,Vl,l=>e(1,u=l)),c(l,Wl,l=>e(2,o=l));const s=_l[Math.floor(Math.random()*_l.length)];return[t,u,o,s,function(){Pn.show("share",{onHide:()=>Pn.show("gameover"),onHideReplace:!0})},function(){Pn.show("welcome",{onHide:Rn})}]}function St(n){let e,t,u,s,r,i,a,c;return{c(){e=k("div"),t=k("h1"),t.textContent="填写的数字部分有误",u=S(),s=k("div"),s.textContent="请关闭窗口后检查标红的数字！",r=S(),i=k("button"),i.textContent="关闭",H(t,"class","text-2xl font-semibold mb-6 leading-none text-red-600"),H(s,"class","p-4 text-lg rounded bg-red-100 bg-opacity-80 border-l-8 border-red-400 border-opacity-75 mb-6"),H(i,"class","btn btn-primary w-full mt-2"),H(e,"class","text-center")},m(l,d){y(l,e,d),w(e,t),w(e,u),w(e,s),w(e,r),w(e,i),a||(c=j(i,"click",function(){o(n[0])&&n[0].apply(this,arguments)}),a=!0)},p(l,[e]){n=l},i:l,o:l,d(l){l&&x(e),a=!1,c()}}}function zt(l,n,e){let{hideModal:t}=n;return l.$$set=l=>{"hideModal"in l&&e(0,t=l.hideModal)},[t]}var jt={share:class extends bl{constructor(l){super(),wl(this,l,nt,lt,s,{data:0,hideModal:1})}},qrcode:class extends bl{constructor(l){super(),wl(this,l,tt,et,s,{data:0})}},settings:class extends bl{constructor(l){super(),wl(this,l,it,rt,s,{hideModal:0})}},confirm:class extends bl{constructor(l){super(),wl(this,l,dt,ct,s,{data:0,hideModal:1})}},prompt:class extends bl{constructor(l){super(),wl(this,l,pt,ht,s,{data:0,hideModal:1})}},welcome:class extends bl{constructor(l){super(),wl(this,l,kt,$t,s,{data:0,hideModal:10})}},gameover:class extends bl{constructor(l){super(),wl(this,l,Mt,Ct,s,{})}},errormodal:class extends bl{constructor(l){super(),wl(this,l,zt,St,s,{hideModal:0})}}};function Nt(l){let n,e,t,u,o,s,r,i,a,c,d;var f=jt[l[0]];function h(l){return{props:{data:l[1],hideModal:Pn.hide}}}return f&&(r=A(f,h(l))),{c(){n=k("div"),e=k("button"),u=S(),o=k("div"),s=k("div"),r&&hl(r.$$.fragment),H(e,"class","modal-overlay svelte-13orf8v"),H(e,"tabindex","-1"),H(s,"class","modal-content svelte-13orf8v"),H(o,"class","modal-container svelte-13orf8v"),H(n,"class","modal svelte-13orf8v")},m(t,i){y(t,n,i),w(n,e),w(n,u),w(n,o),w(o,s),r&&pl(r,s,null),a=!0,c||(d=j(e,"click",l[2]),c=!0)},p(n,e){l=n;const t={};if(2&e&&(t.data=l[1]),1&e&&f!==(f=jt[l[0]])){if(r){sl();const l=r;al(l.$$.fragment,1,0,()=>{ml(l,1)}),rl()}f?(r=A(f,h(l)),hl(r.$$.fragment),il(r.$$.fragment,1),pl(r,s,null)):r=null}else f&&r.$set(t)},i(l){a||(Q(()=>{a&&(t||(t=dl(e,Xn,{duration:Nl},!0)),t.run(1))}),r&&il(r.$$.fragment,l),Q(()=>{a&&(i||(i=dl(o,le,{duration:Nl},!0)),i.run(1))}),a=!0)},o(l){t||(t=dl(e,Xn,{duration:Nl},!1)),t.run(0),r&&al(r.$$.fragment,l),i||(i=dl(o,le,{duration:Nl},!1)),i.run(0),a=!1},d(l){l&&x(n),l&&t&&t.end(),r&&ml(r),l&&i&&i.end(),c=!1,d()}}}function Ht(l){let n,e,t=l[0]!==jl&&"errormodal"!==l[0]&&Nt(l);return{c(){t&&t.c(),n=z()},m(l,u){t&&t.m(l,u),y(l,n,u),e=!0},p(l,[e]){l[0]!==jl&&"errormodal"!==l[0]?t?(t.p(l,e),1&e&&il(t,1)):(t=Nt(l),t.c(),il(t,1),t.m(n.parentNode,n)):t&&(sl(),al(t,1,1,()=>{t=null}),rl())},i(l){e||(il(t),e=!0)},o(l){al(t),e=!1},d(l){t&&t.d(l),l&&x(n)}}}function _t(l,n,e){let t,u;c(l,Pn,l=>e(0,t=l)),c(l,Vn,l=>e(1,u=l));const o=["welcome","gameover"];return[t,u,function(){o.includes(t)||Pn.hide()}]}class Bt extends bl{constructor(l){super(),wl(this,l,_t,Ht,s,{})}}function Tt(n){let e,t,u,o,s,r,i,a,c,d,f,h;return{c(){e=k("div"),t=k("div"),u=k("div"),o=k("h3"),o.textContent="填写错误",s=S(),r=k("button"),r.textContent="×",i=S(),a=k("div"),a.innerHTML='<p class="error-text svelte-ow8885">请检查标红的数字，确保填写正确！</p>',H(o,"class","error-title svelte-ow8885"),H(r,"class","close-btn svelte-ow8885"),H(r,"aria-label","关闭"),H(u,"class","error-header svelte-ow8885"),H(a,"class","error-message svelte-ow8885"),H(t,"class","error-content svelte-ow8885"),H(e,"class","error-toast svelte-ow8885")},m(l,c){y(l,e,c),w(e,t),w(t,u),w(u,o),w(u,s),w(u,r),w(t,i),w(t,a),d=!0,f||(h=j(r,"click",n[1]),f=!0)},p:l,i(l){d||(Q(()=>{d&&(c||(c=dl(e,Zn,{x:300,duration:300},!0)),c.run(1))}),d=!0)},o(l){c||(c=dl(e,Zn,{x:300,duration:300},!1)),c.run(0),d=!1},d(l){l&&x(e),l&&c&&c.end(),f=!1,h()}}}function Rt(l){let n,e,t="errormodal"===l[0]&&Tt(l);return{c(){t&&t.c(),n=z()},m(l,u){t&&t.m(l,u),y(l,n,u),e=!0},p(l,[e]){"errormodal"===l[0]?t?(t.p(l,e),1&e&&il(t,1)):(t=Tt(l),t.c(),il(t,1),t.m(n.parentNode,n)):t&&(sl(),al(t,1,1,()=>{t=null}),rl())},i(l){e||(il(t),e=!0)},o(l){al(t),e=!1},d(l){t&&t.d(l),l&&x(n)}}}function Et(l,n,e){let t,u;return c(l,Pn,l=>e(0,t=l)),q(()=>()=>{u&&clearTimeout(u)}),l.$$.update=()=>{5&l.$$.dirty&&"errormodal"===t&&(u&&clearTimeout(u),e(2,u=setTimeout(()=>{Pn.hide()},5e3)))},[t,function(){Pn.hide()},u]}class At extends bl{constructor(l){super(),wl(this,l,Et,Rt,s,{})}}function Ot(l,n,e){const t=l.slice();return t[3]=n[e],t[5]=e,t}function It(l,n,e){const t=l.slice();return t[3]=n[e],t[5]=e,t}function Vt(l){let n,e,t,u,o,s,r,i,a,c,d,f,h,p;function m(l,n){return 1&n&&(a=null),1&n&&(c=null),null==a&&(a=!!Array.isArray(l[0])),a?Ft:(null==c&&(c=!!l[0].includes(",")),c?Lt:Pt)}let g=m(l,-1),b=g(l);return{c(){n=k("div"),e=k("div"),t=k("div"),u=k("h3"),u.textContent="提示策略",o=S(),s=k("button"),s.textContent="×",r=S(),i=k("div"),b.c(),H(u,"class","hint-title svelte-mw51b8"),H(s,"class","close-btn svelte-mw51b8"),H(s,"aria-label","关闭"),H(t,"class","hint-header svelte-mw51b8"),H(i,"class","hint-body svelte-mw51b8"),H(e,"class","hint-content svelte-mw51b8"),H(n,"class","hint-toast svelte-mw51b8")},m(a,c){y(a,n,c),w(n,e),w(e,t),w(t,u),w(t,o),w(t,s),w(e,r),w(e,i),b.m(i,null),f=!0,h||(p=j(s,"click",l[1]),h=!0)},p(l,n){g===(g=m(l,n))&&b?b.p(l,n):(b.d(1),b=g(l),b&&(b.c(),b.m(i,null)))},i(l){f||(Q(()=>{f&&(d||(d=dl(n,Zn,{x:300,duration:300},!0)),d.run(1))}),f=!0)},o(l){d||(d=dl(n,Zn,{x:300,duration:300},!1)),d.run(0),f=!1},d(l){l&&x(n),b.d(),l&&d&&d.end(),h=!1,p()}}}function Pt(l){let n,e,t;return{c(){n=k("div"),e=k("span"),t=M(l[0]),H(e,"class","strategy-name svelte-mw51b8"),H(n,"class","single-strategy svelte-mw51b8")},m(l,u){y(l,n,u),w(n,e),w(e,t)},p(l,n){1&n&&_(t,l[0])},d(l){l&&x(n)}}}function Lt(l){let n,e,t,u,o=l[0].split(","),s=[];for(let n=0;n<o.length;n+=1)s[n]=Dt(Ot(l,o,n));return{c(){n=k("div"),e=k("div"),e.textContent="策略链",t=S(),u=k("div");for(let l=0;l<s.length;l+=1)s[l].c();H(e,"class","chain-label svelte-mw51b8"),H(u,"class","chain-container svelte-mw51b8"),H(n,"class","strategy-chain svelte-mw51b8")},m(l,o){y(l,n,o),w(n,e),w(n,t),w(n,u);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(u,null)},p(l,n){if(1&n){let e;for(o=l[0].split(","),e=0;e<o.length;e+=1){const t=Ot(l,o,e);s[e]?s[e].p(t,n):(s[e]=Dt(t),s[e].c(),s[e].m(u,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=o.length}},d(l){l&&x(n),$(s,l)}}}function Ft(l){let n,e,t,u,o=l[0],s=[];for(let n=0;n<o.length;n+=1)s[n]=Ut(It(l,o,n));return{c(){n=k("div"),e=k("div"),e.textContent="策略链",t=S(),u=k("div");for(let l=0;l<s.length;l+=1)s[l].c();H(e,"class","chain-label svelte-mw51b8"),H(u,"class","chain-container svelte-mw51b8"),H(n,"class","strategy-chain svelte-mw51b8")},m(l,o){y(l,n,o),w(n,e),w(n,t),w(n,u);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(u,null)},p(l,n){if(1&n){let e;for(o=l[0],e=0;e<o.length;e+=1){const t=It(l,o,e);s[e]?s[e].p(t,n):(s[e]=Ut(t),s[e].c(),s[e].m(u,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=o.length}},d(l){l&&x(n),$(s,l)}}}function qt(l){let n;return{c(){n=k("div"),H(n,"class","arrow svelte-mw51b8")},m(l,e){y(l,n,e)},d(l){l&&x(n)}}}function Dt(l){let n,e,t,u,o,s=l[3].trim()+"",r=l[5]<l[0].split(",").length-1,i=r&&qt();return{c(){n=k("div"),e=k("span"),t=M(s),u=S(),i&&i.c(),o=z(),H(e,"class","strategy-name svelte-mw51b8"),H(n,"class","strategy-item svelte-mw51b8")},m(l,s){y(l,n,s),w(n,e),w(e,t),y(l,u,s),i&&i.m(l,s),y(l,o,s)},p(l,n){1&n&&s!==(s=l[3].trim()+"")&&_(t,s),1&n&&(r=l[5]<l[0].split(",").length-1),r?i||(i=qt(),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(l){l&&x(n),l&&x(u),i&&i.d(l),l&&x(o)}}}function Gt(l){let n;return{c(){n=k("div"),H(n,"class","arrow svelte-mw51b8")},m(l,e){y(l,n,e)},d(l){l&&x(n)}}}function Ut(l){let n,e,t,u,o,s=l[3]+"",r=l[5]<l[0].length-1&&Gt();return{c(){n=k("div"),e=k("span"),t=M(s),u=S(),r&&r.c(),o=z(),H(e,"class","strategy-name svelte-mw51b8"),H(n,"class","strategy-item svelte-mw51b8")},m(l,s){y(l,n,s),w(n,e),w(e,t),y(l,u,s),r&&r.m(l,s),y(l,o,s)},p(l,n){1&n&&s!==(s=l[3]+"")&&_(t,s),l[5]<l[0].length-1?r||(r=Gt(),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(l){l&&x(n),l&&x(u),r&&r.d(l),l&&x(o)}}}function Jt(l){let n,e,t=l[0]&&Vt(l);return{c(){t&&t.c(),n=z()},m(l,u){t&&t.m(l,u),y(l,n,u),e=!0},p(l,[e]){l[0]?t?(t.p(l,e),1&e&&il(t,1)):(t=Vt(l),t.c(),il(t,1),t.m(n.parentNode,n)):t&&(sl(),al(t,1,1,()=>{t=null}),rl())},i(l){e||(il(t),e=!0)},o(l){al(t),e=!1},d(l){t&&t.d(l),l&&x(n)}}}function Wt(l,n,e){let t,u;return c(l,Ul,l=>e(0,t=l)),q(()=>()=>{u&&clearTimeout(u)}),l.$$.update=()=>{5&l.$$.dirty&&t&&(u&&clearTimeout(u),e(2,u=setTimeout(()=>{Ul.set("")},1e4)))},[t,function(){Ul.set("")},u]}class Yt extends bl{constructor(l){super(),wl(this,l,Wt,Jt,s,{})}}function Qt(n){let e,t,u,o,s,r,i,a,c,d,f,h,p,m,g;return t=new Qe({}),s=new we({}),a=new Ve({}),d=new Bt({}),h=new At({}),m=new Yt({}),{c(){e=k("header"),hl(t.$$.fragment),u=S(),o=k("section"),hl(s.$$.fragment),r=S(),i=k("footer"),hl(a.$$.fragment),c=S(),hl(d.$$.fragment),f=S(),hl(h.$$.fragment),p=S(),hl(m.$$.fragment)},m(l,n){y(l,e,n),pl(t,e,null),y(l,u,n),y(l,o,n),pl(s,o,null),y(l,r,n),y(l,i,n),pl(a,i,null),y(l,c,n),pl(d,l,n),y(l,f,n),pl(h,l,n),y(l,p,n),pl(m,l,n),g=!0},p:l,i(l){g||(il(t.$$.fragment,l),il(s.$$.fragment,l),il(a.$$.fragment,l),il(d.$$.fragment,l),il(h.$$.fragment,l),il(m.$$.fragment,l),g=!0)},o(l){al(t.$$.fragment,l),al(s.$$.fragment,l),al(a.$$.fragment,l),al(d.$$.fragment,l),al(h.$$.fragment,l),al(m.$$.fragment,l),g=!1},d(l){l&&x(e),ml(t),l&&x(u),l&&x(o),ml(s),l&&x(r),l&&x(i),ml(a),l&&x(c),ml(d,l),l&&x(f),ml(h,l),l&&x(p),ml(m,l)}}}function Xt(l){return jn.subscribe(l=>{l&&(In.pause(),Pn.show("gameover"))}),q(()=>{let l,n=location.hash;n.startsWith("#")&&(n=n.slice(1)),Rl(n)&&(l=n),Pn.show("welcome",{onHide:In.resume,sencode:l})}),[]}return new class extends bl{constructor(l){super(),wl(this,l,Xt,Qt,s,{})}}({target:document.getElementById("app")})}();
